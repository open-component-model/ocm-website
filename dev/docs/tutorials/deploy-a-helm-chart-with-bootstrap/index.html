<!doctype html><html lang=en-US data-bs-theme=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preload href=https://ocm.software/fonts/vendor/jost/jost-v4-latin-regular.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://ocm.software/fonts/vendor/jost/jost-v4-latin-500.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://ocm.software/fonts/vendor/jost/jost-v4-latin-700.woff2 as=font type=font/woff2 crossorigin><script src=/js/color-mode.7d9843fe8d06b487f08000f3dfc783b2c283d303e738a3e80bd25a903243b9aa.js integrity="sha256-fZhD/o0GtIfwgADz38eDssKD0wPnOKPoC9JakDJDuao="></script><link rel=stylesheet href="/main.c4937ad7112a4924b63218ee9d591c8d1cd346e637df50a64fab2cfe33cddd7e3ecd656f6fe9ce5ae7802c1496d9f4935da49276ff8b623fb4ea7ddf37511c07.css" integrity="sha512-xJN61xEqSSS2MhjunVkcjRzTRuY331CmT6ss/jPN3X4+zWVvb+nOWueALBSW2fSTXaSSdv+LYj+06n3fN1EcBw==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><base href=https://ocm.software/dev/docs/tutorials/deploy-a-helm-chart-with-bootstrap/><link rel=canonical href=https://ocm.software/dev/docs/tutorials/deploy-a-helm-chart-with-bootstrap/><title>Deploy a Helm Chart (with Bootstrap) | Open Component Model</title><meta name=description content="Deploy a Helm Chart using a ResourceGraphDefinition delivered with OCM."><link rel=icon href=/favicon.ico sizes=32x32><link rel=icon href=/favicon.svg type=image/svg+xml><link rel=apple-touch-icon href=/apple-touch-icon.png sizes=180x180 type=image/png><link rel=icon href=/favicon-192x192.png sizes=192x192 type=image/png><link rel=icon href=/favicon-512x512.png sizes=512x512 type=image/png><link rel=manifest href=/manifest.webmanifest><meta property="og:url" content="https://ocm.software/dev/docs/tutorials/deploy-a-helm-chart-with-bootstrap/"><meta property="og:site_name" content="Open Component Model"><meta property="og:title" content="Deploy a Helm Chart (with Bootstrap)"><meta property="og:description" content="Deploy a Helm Chart using a ResourceGraphDefinition delivered with OCM."><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta name=twitter:card content="summary"><meta name=twitter:title content="Deploy a Helm Chart (with Bootstrap)"><meta name=twitter:description content="Deploy a Helm Chart using a ResourceGraphDefinition delivered with OCM."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://ocm.software/dev/","name":"Open Component Model","position":1},{"@type":"ListItem","item":"https://ocm.software/dev/docs/","name":"Documentation","position":2},{"@type":"ListItem","item":"https://ocm.software/dev/docs/tutorials/","name":"Tutorials","position":3},{"@type":"ListItem","name":"Deploy a Helm Chart (With Bootstrap)","position":4}]}</script></head><body data-bs-spy=scroll data-bs-target=#toc data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll=true tabindex=0><header class=header><nav class="navbar navbar-expand-lg"><div class=container-fluid><a class=navbar-brand href=/dev/><img src=/images/base.svg alt="Open Component Model Logo" width=48 height=48 class=d-inline-block>
<span class="ms-2 fw-bold"><span class=word>Open</span>
<span class=word>Component</span>
<span class=word>Model</span>
</span></a><button type=button id=searchToggleMobile class="btn btn-link nav-link p-0 d-lg-none ms-auto" aria-label=Search>
<svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1014 0A7 7 0 103 10"/><path d="M21 21l-6-6"/></svg>
</button>
<button class=navbar-toggler type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasNavbar aria-controls=offcanvasNavbar>
<svg class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 6h16"/><path d="M4 12h16"/><path d="M4 18h16"/></svg></button><div class="offcanvas offcanvas-end" tabindex=-1 id=offcanvasNavbar aria-labelledby=offcanvasNavbarLabel><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasNavbarLabel><span class=word>Open</span>
<span class=word>Component</span>
<span class=word>Model</span></h5><button type=button class="btn-close text-reset" data-bs-dismiss=offcanvas aria-label=Close></button></div><div class=offcanvas-body><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class=nav-item><a class=nav-link href=/dev/docs/>Docs</a></li><li class=nav-item><a class=nav-link href=/dev/community/engagement>Community</a></li><li class=nav-item><a class=nav-link href=https://github.com/orgs/open-component-model/projects/10/views/5>Roadmap</a></li></ul><div class=navbar-right><button type=button id=searchToggleDesktop class="btn btn-link nav-link p-0 me-3 d-none d-lg-flex" aria-label=Search>
<svg class="icon icon-tabler icon-tabler-search" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1014 0A7 7 0 103 10"/><path d="M21 21l-6-6"/></svg>
</button>
<button id=buttonColorMode class="btn btn-link nav-link p-0 mode-toggle me-3 d-none d-lg-flex" type=button aria-label="Toggle theme">
<svg data-bs-theme-value="dark" class="icon icon-tabler icon-tabler-moon" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132.0.263.0.393.0a7.5 7.5.0 007.92 12.446A9 9 0 1112 2.992z"/></svg>
<svg data-bs-theme-value="light" class="icon icon-tabler icon-tabler-sun" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-4 0a4 4 0 108 0 4 4 0 10-8 0"/><path d="M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></svg>
</button>
<a href=https://github.com/open-component-model target=_blank class="header-github-pill d-none d-lg-inline-flex" aria-label=GitHub><span class=icon><svg class="icon icon-tabler icon-tabler-brand-github" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></span>
</a><a href=https://kubernetes.slack.com/archives/C05UWBE8R1D target=_blank class="header-github-pill d-none d-lg-inline-flex" aria-label=Slack><span class=icon><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-slack"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12V6a2 2 0 014 0v6m0-2a2 2 0 112 2h-6"/><path d="M12 12h6a2 2 0 010 4h-6m2 0a2 2 0 11-2 2v-6"/><path d="M12 12v6a2 2 0 01-4 0v-6m0 2a2 2 0 11-2-2h6"/><path d="M12 12H6a2 2 0 010-4h6m-2 0a2 2 0 112-2v6"/></svg></span></a><div class="dropdown me-3 d-none d-lg-flex"><button class="btn btn-link nav-link p-0 dropdown-toggle btn-dropdown" id=doks-versions data-bs-toggle=dropdown aria-expanded=false data-bs-display=static aria-label="Toggle version menu">
Versions
<span class=dropdown-caret><svg class="icon icon-tabler icon-tabler-chevron-down" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 9l6 6 6-6"/></svg></span></button><ul class="dropdown-menu dropdown-menu-lg-end shadow rounded border-0" aria-labelledby=doks-versions><li><a class=dropdown-item href=/>legacy <span class=version-flag>(default)</span></a></li><li><a class="dropdown-item current" aria-current=true href=/dev/>dev</a></li></ul></div><div class=version-droplet role=status aria-live=polite data-tooltip="You are currently viewing documentation for the dev version of OCM. This version is under development and contains our next major release with lots of breaking changes."><span class=text>Dev</span></div></div></div></div></div></nav></header><div class=modal id=searchModal tabindex=-1 aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 visually-hidden" id=searchModalLabel>Search</h2><button type=button class="btn-close visually-hidden" data-bs-dismiss=modal aria-label=Close></button><div class="search-input flex-grow-1 d-none"><form id=search-form class=search-form action=# method=post accept-charset=UTF-8 role=search><label for=query class=visually-hidden>Search</label><div class=d-flex><input type=search id=query name=query class="search-text form-control form-control-lg" placeholder=Search aria-label=Search maxlength=128 autocomplete=off>
<button type=button class="btn btn-link text-decoration-none px-0 ms-3 d-md-none" data-bs-dismiss=modal aria-label=Close>Cancel</button></div></form></div></div><div class=modal-body><p class="search-loading status message d-none mt-3 text-center">Loading search indexâ€¦</p><p class="search-no-recent message d-none mt-3 text-center">No recent searches</p><p class="search-no-results message d-none mt-3 text-center">No results for "<strong><span class=query-no-results>Query here</span></strong>"</p><div id=searchResults class=search-results></div><template><article class="search-result list-view"><div class="card my-3"><div class=card-body><header><h2 class="h5 title title-submitted mb-0"><a class="stretched-link text-decoration-none text-reset" href=#>Title here</a></h2><div class="submitted d-none"><time class=created-date datetime=1970-01-01T00:00:00+00:00>1970-01-01T00:00:00+00:00</time></div></header><div class=content>Summary here</div></div></div></article></template></div><div class=modal-footer><ul class="list-inline me-auto d-none d-md-block"><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4m3 3-3-3 3-3"/></g></svg></kbd><span class=DocSearch-Label>to select</span></li><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8m3-3-3 3-3-3"/></g></svg></kbd><kbd class=me-2><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8m3 3-3-3-3 3"/></g></svg></kbd><span class=DocSearch-Label>to navigate</span></li><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993.0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016s1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5s-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864.0 1.6425 1.031 1.5443 2.2492h-2.956"/></g></svg></kbd><span class=DocSearch-Label>to close</span></li></ul><p class=d-md-none>Search by <a class=text-decoration-none href=https://github.com/nextapps-de/flexsearch>FlexSearch</a></p></div></div></div></div><div class='wrap container-fluid' role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar docs-sidebar-offset d-none d-lg-block"><nav class="section-nav docs-links"><ul class=list-unstyled><li><details><summary>Overview</summary><ul class="list-unstyled list-nested"><li><a href=/dev/docs/overview/about-the-ocm-project/>About the OCM Project</a></li><li><a href=/dev/docs/overview/benefits-of-ocm/>Benefits of OCM</a></li></ul></details></li><li><details><summary>Getting Started</summary><ul class="list-unstyled list-nested"><li><a href=/dev/docs/getting-started/install-the-ocm-cli/>Install the OCM CLI</a></li><li><a href=/dev/docs/getting-started/create-and-examine-component-versions/>Create and Examine Component Versions</a></li><li><a href=/dev/docs/getting-started/download-resources-from-component-versions/>Download Resources from Component Versions</a></li><li><a href=/dev/docs/getting-started/sign-component-versions/>Sign Component Versions</a></li><li><a href=/dev/docs/getting-started/verify-component-versions/>Verify Component Versions</a></li><li><a href=/dev/docs/getting-started/set-up-an-ocm-controller-environment/>Set Up an OCM Controller Environment</a></li><li><a href=/dev/docs/getting-started/deploy-helm-charts/>Deploy Helm Charts</a></li></ul></details></li><li><details><summary>Concepts</summary><ul class="list-unstyled list-nested"><li><a href=/dev/docs/concepts/ocm-components/>OCM Components</a></li><li><a href=/dev/docs/concepts/ocm-coordinates/>OCM Coordinates</a></li><li><a href=/dev/docs/concepts/ocm-controllers/>OCM Controllers</a></li></ul></details></li><li><a href=/dev/docs/how-to/>How-to Guides</a></li><li><details open><summary>Tutorials</summary><ul class="list-unstyled list-nested"><li><a href=/dev/docs/tutorials/structure-software-products-with-ocm/>Structure Software Products with OCM</a></li><li><a href=/dev/docs/tutorials/example-component-descriptor/>Example Component Descriptor</a></li><li><a href=/dev/docs/tutorials/input-and-access-types/>Input and Access Types</a></li><li><a href=/dev/docs/tutorials/credentials-for-ocm-controllers/>Credentials for OCM Controllers</a></li><li><a href=/dev/docs/tutorials/credentials-in-an-.ocmconfig-file/>Credentials in an .ocmconfig File</a></li><li><a href=/dev/docs/tutorials/signing-and-verification/>Signing and Verification</a></li><li class=active><a aria-current=page href=/dev/docs/tutorials/deploy-a-helm-chart-with-bootstrap/>Deploy a Helm Chart (with Bootstrap)</a></li></ul></details></li><li><details><summary>Reference</summary><ul class="list-unstyled list-nested"><li><details><summary>OCM CLI</summary><ul class="list-unstyled list-nested"><li><a href=/dev/docs/reference/ocm-cli/ocm/>ocm</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-add/>ocm add</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-add-component-version/>ocm add component-version</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-completion/>ocm completion</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-completion-bash/>ocm completion bash</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-completion-fish/>ocm completion fish</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-completion-powershell/>ocm completion powershell</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-completion-zsh/>ocm completion zsh</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-describe/>ocm describe</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-describe-types/>ocm describe types</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-download/>ocm download</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-download-plugin/>ocm download plugin</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-download-resource/>ocm download resource</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-generate/>ocm generate</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-generate-docs/>ocm generate docs</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-get/>ocm get</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-get-component-version/>ocm get component-version</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-get-types/>ocm get types</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-plugin/>ocm plugin</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-plugin-registry/>ocm plugin registry</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-plugin-registry-get/>ocm plugin registry get</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-plugin-registry-list/>ocm plugin registry list</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-sign/>ocm sign</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-sign-component-version/>ocm sign component-version</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-transfer/>ocm transfer</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-transfer-component-version/>ocm transfer component-version</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-verify/>ocm verify</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-verify-component-version/>ocm verify component-version</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-version/>ocm version</a></li></ul></details></li></ul></details></li></ul></nav></div><div class="col container-fw d-lg-flex flex-lg-row justify-content-center mx-auto"><nav class="docs-toc docs-toc-offset d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=toc><ul><li><a href=#create-the-ocm-component-version>Create the OCM Component Version</a></li><li><a href=#deploy-the-helm-chart>Deploy the Helm Chart</a><ul><li><a href=#bootstrapping>Bootstrapping</a></li><li><a href=#create-an-instance>Create an Instance</a></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>Deploy a Helm Chart (with Bootstrap)</h1><nav class="toc-mobile d-xl-none" aria-label="Quaternary navigation"><details><summary>On this page</summary><div class=page-links><nav id=TableOfContents><ul><li><a href=#create-the-ocm-component-version>Create the OCM Component Version</a></li><li><a href=#deploy-the-helm-chart>Deploy the Helm Chart</a><ul><li><a href=#bootstrapping>Bootstrapping</a></li><li><a href=#create-an-instance>Create an Instance</a></li></ul></li></ul></nav></div></details></nav><div style=margin-bottom:2rem></div><p>The
<a href=/dev/docs/concepts/ocm-controllers/#concept>OCM Components</a> page and the
<a href=/dev/docs/getting-started/deploy-helm-charts/>Deploy a Helm Chart</a> guide showed a basic example of how to deploy a Helm chart from an OCM component.
By defining a <code>ResourceGraphDefinition</code> that contains all the required resources to deploy the Helm chart into a
Kubernetes cluster.</p><p>However, there are scenarios, where the developer already knows how the deployment instructions for the Helm chart
should look like and what should be configured.
Accordingly, the developer can create a <code>ResourceGraphDefinition</code> that contains all the required resources to deploy and
configure the Helm chart, and deliver it with the OCM component version itself. This way, the deployment instructions
can also be delivered securely through OCM and the operator does not need to know which resources are required.</p><p>In such a case, we need to bootstrap the <code>ResourceGraphDefinition</code> from the OCM component and apply it to the cluster.</p><p>To do so, we use the OCM controller resource <code>Deployer</code>. By referencing the <code>Resource</code> containing the
<code>ResourceGraphDefinition</code> by name, the deployer will download the content from the OCM component and apply it to the
cluster.</p><p>The following guide demonstrates how to deploy a Helm chart using a <code>ResourceGraphDefinition</code> that is also delivered
with the same OCM component. Additionally, it shows how to <strong>localize</strong> a Helm chart.</p><div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3"><div class=callout-content><div class=callout-body><p><strong>Localization</strong> describes the process of inserting a new image reference into the deployment instructions, e.g. a
Helm chart. It is a two-step process:</p><ol><li>When an OCM component and its resources are transferred to another registry, <strong>referential resources</strong> can
potentially update their reference to the new location. For instance, a resource with an access type <code>ociArtifact</code>
will update its image reference in the component descriptor to the new registry location, if the OCM transfer is done
with the flag <code>--copy-resources</code>.</li><li>However, the deployment using the image is not aware of this change. Accordingly, we need to insert the new image
reference into the deployment instruction. This can be done using deployment tools like FluxCDs
<a href=https://fluxcd.io/flux/components/helm/helmreleases/#values target=_blank rel=noopener>HelmRelease</a> and
<a href=https://fluxcd.io/flux/components/kustomize/kustomizations/#patches target=_blank rel=noopener>Kustomization</a> or ArgoCDs
<a href=https://argo-cd.readthedocs.io/en/stable/user-guide/helm/#values target=_blank rel=noopener>Helm</a> and
<a href=https://argo-cd.readthedocs.io/en/stable/user-guide/kustomize/#patches target=_blank rel=noopener>Kustomize</a>.</li></ol></div></div></div><p>The following diagram shows an overview of the resources and their relationships of this guide:</p><pre class=mermaid>
  flowchart TB
    classDef cluster fill:white,color:black,stroke:black;
    classDef reconciledBy fill:#dedede,stroke:black,stroke-dasharray: 5,color:black;
    classDef k8sObject fill:#b3b3b3,color:black,stroke:black;
    classDef information fill:#b3b3b3,color:black,stroke:none;
    classDef templateOf fill:#b3b3b3,color:black,stroke:black,stroke-dasharray: 2;
    classDef ocm fill:white,stroke:black,color:black;
    classDef legendStyle fill:white,stroke:black,color:black,stroke-dasharray: 2;
    classDef legendStartEnd height:0px;
    classDef legendItems fill:#b3b3b3,stroke:none,color:black;

    subgraph legend[Legend]
        start1[ ] ---references[referenced by] --&gt; end1[ ]
        start2[ ] -.-creates -.-&gt; end2[ ]
        start3[ ] ---instanceOf[instance of] --&gt; end3[ ]
        start4[ ] ~~~reconciledBy[reconciled by] ~~~ end4[ ]
        start5[ ] ~~~k8sObject[k8s object] ~~~ end5[ ]
        start6[ ] ~~~templateOf[template of] ~~~ end6[ ]
    end

    subgraph background[ ]
        direction TB
        subgraph ocmRepo[OCM Repository]
            subgraph ocmCV[OCM Component Version]
                direction RL 
                subgraph ocmResourceHelm[OCM Resource: HelmChart]
                end
                subgraph ocmResourceImage[OCM Resource: Image]
                end
                subgraph ocmResourceRGD[OCM Resource: RGD]
                end
            end
        end

        subgraph k8sCluster[Kubernetes Cluster]
            subgraph bootstrap[OCM Controllers]
                k8sRepo[OCMRepository]
                k8sComponent[Component]
                k8sResourceRGD[Resource: RGD]
                k8sDeployer[Deployer]
            end
            subgraph kro[kro]
                subgraph rgd[RGD: Bootstrap]
                    rgdResourceHelm[Resource: HelmChart]
                    rgdResourceImage[Resource: Image]
                    rgdSource[FluxCD: OCI Repository]
                    rgdHelmRelease[FluxCD: HelmRelease]
                end
                crdBootstrap[CRD: Bootstrap]
                subgraph instanceBootstrap[Instance: Bootstrap]
                    subgraph ocmControllers[OCM Controllers]
                        k8sResourceHelm[Resource: HelmChart]
                        k8sResourceImage[Resource: Image]
                    end
                    subgraph fluxCD[FluxCD]
                        source[OCI Repository]
                        helmRelease[HelmRelease]
                    end
                    k8sResourceImage ---info[localization reference] --&gt; helmRelease
                end
            end
            helmRelease --&gt; deployment[Deployment: Helm chart]
        end

        ocmRepo --&gt; k8sRepo --&gt; k8sComponent --&gt; k8sResourceRGD --&gt; k8sDeployer --&gt; rgd --&gt; crdBootstrap --&gt; instanceBootstrap
        k8sComponent --&gt; k8sResourceHelm &amp; k8sResourceImage
        k8sResourceHelm --&gt; source --&gt; helmRelease
    end

    linkStyle default fill:none,stroke:black,color:black;
    linkStyle 2,3,20 stroke:black,fill:none,color:black,stroke-dasharray: 10;
    linkStyle 4,5,21 stroke:black,fill:none,color:black,stroke-dasharray: 4;

    class start1,end1,start2,end2,start3,end3,start4,end4,start5,end5,start6,end6 legendStartEnd;
    class references,creates,instanceOf legendItems;
    class templateOf,rgdResourceHelm,rgdResourceImage,rgdSource,rgdHelmRelease templateOf;
    class info information;
    class reconciledBy,ocmK8sToolkit,bootstrap,fluxCD,kro reconciledBy;
    class k8sObject,rgd,k8sRepo,k8sComponent,k8sResourceRGD,k8sDeployer,k8sResourceHelm,k8sResourceImage,source,helmRelease,deployment,crdBootstrap,instanceBootstrap k8sObject;
    class ocmRepo,ocmCV,ocmResourceHelm,ocmResourceRGD,ocmResourceImage ocm;
    class k8sCluster cluster;
    class legend legendStyle;
</pre><p>As the diagram shows, we will start by creating an OCM component that contains three resources:</p><ul><li>An OCM Resource containing the &ldquo;HelmChart&rdquo; we want to deploy.</li><li>An OCM Resource containing an access specification to an &ldquo;Image&rdquo; we want to use for the deployment and localization.</li><li>An OCM Resource containing the <code>ResourceGraphDefinition</code> (RGD) that will deploy the Helm chart and configure the
localization.</li></ul><p>To enable the bootstrap of the <code>ResourceGraphDefinition</code>, we will create the respective OCM controller resources that
point to the OCM repository (&ldquo;Repository&rdquo;), the OCM component version (&ldquo;Component&rdquo;), and the OCM Resource
(&ldquo;Resource: RGD&rdquo;) that contains the <code>ResourceGraphDefinition</code>. The OCM controller resource &ldquo;Deployer&rdquo; will refer to the
aforementioned &ldquo;Resource: RGD&rdquo;, download the <code>ResourceGraphDefinition</code>, and apply it to the cluster.</p><p>After applying the <code>ResourceGraphDefinition</code>, kro will reconcile it and create a Custom Resource Definition
(&ldquo;CRD: Bootstrap&rdquo;). By creating an instance of that CRD, we will deploy the resources as defined in the
<code>ResourceGraphDefinition</code>:</p><ul><li>An OCM controller resource &ldquo;HelmChart&rdquo; of type <code>Resource</code> that contains the location of the Helm chart in its status.</li><li>An OCM controller resource &ldquo;Image&rdquo; of type <code>Resource</code> that contains the localized image reference in its status.</li><li>A FluxCD resource of type <code>OCIRepository</code> that points to the location of the Helm chart retrieved from the status of
the resource &ldquo;HelmChart&rdquo;.</li><li>A FluxCD resource of type <code>HelmRelease</code> that points to FluxCDs <code>OCIRepository</code>, gets the Helm chart, and replaces
the image location in the deployment using its <code>spec.values</code>-field and the status of the resource &ldquo;Image&rdquo; that
contains the localized image reference.</li></ul><p>Finally, we will check if the deployment was successful and if the localization was applied correctly.</p><div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3"><div class=callout-content><div class=callout-body><p>Before starting, make sure you have set up your environment as described in the
<a href=/dev/docs/getting-started/set-up-an-ocm-controller-environment/>setup guide</a>.</p></div></div></div><h2 id=create-the-ocm-component-version>Create the OCM Component Version<a href=#create-the-ocm-component-version class=anchor aria-hidden=true>#</a></h2><p>First, we will create an OCM component version containing a Helm chart, the application image that is used in the Helm
chart, and the <code>ResourceGraphDefinition</code> that contains all required resource to deploy the Helm chart and configure the
localization. For this example, we will use the <code>podinfo</code> Helm chart and image, which is a simple web application that
serves a pod information page. For more details on how to create an OCM component version, please refer to
<a href=/dev/docs/getting-started/create-and-examine-component-versions/>Create Component Versions</a></p><p>To create the OCM component version, we will use the following <code>component-constructor.yaml</code> file:</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>components</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ocm.software/ocm-k8s-toolkit/bootstrap</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1.0.0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>provider</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ocm.software</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>helm-resource</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>helmChart</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1.0.0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>access</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>ociArtifact</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>imageReference</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;ghcr.io/stefanprodan/charts/podinfo:6.9.1@sha256:565d310746f1fa4be7f93ba7965bb393153a2d57a15cfe5befc909b790a73f8a&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>image-resource</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>ociArtifact</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1.0.0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>access</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>ociRegistry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>imageReference</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;ghcr.io/stefanprodan/podinfo:6.9.1@sha256:262578cde928d5c9eba3bce079976444f624c13ed0afb741d90d5423877496cb&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>resource-graph-definition</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>blob</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1.0.0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>input</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>./resourceGraphDefinition.yaml</span></span></span></code></pre></div></figure></div><p>As you can see, the resource <code>resource-graph-definition</code> is of type <code>blob</code> and contains the path to a file
<code>resourceGraphDefinition.yaml</code>. Before we can create the OCM component version, we need to create this file, with the
following content:</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>kro.run/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ResourceGraphDefinition</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>schema</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Bootstrap</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># In this guide, we will not create a &#34;Repository&#34; and &#34;Component&#34; resource in this ResourceGraphDefinition. Those</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># resources will be created to bootstrap the ResourceGraphDefinition itself and will be present in the Kubernetes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># cluster to be referenced by the following resources (see the bootstrap resource in one of the following sections).</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># This resource refers to the resource &#34;helm-resource&#34; defined in the OCM component version. It will be downloaded,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># verified, and its location is made available in the status of the resource.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=l>resourceChart</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>delivery.ocm.software/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Resource</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap-helm-resource</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># This component will be part of the bootstrap resources that will be created later.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>componentRef</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap-component</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>resource</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>byReference</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>resource</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>helm-resource</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class=l>1m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># ocmConfig is required, if the OCM repository requires credentials to access it.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># ocmConfig:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># This resource refers to the resource &#34;image-resource&#34; defined in the OCM component version. It will be downloaded,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># verified, and its location is made available in the status of the resource.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=l>resourceImage</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>delivery.ocm.software/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Resource</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap-image-resource</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># This component will be part of the bootstrap resources that will be created later.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>componentRef</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap-component</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>resource</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>byReference</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>resource</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>image-resource</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class=l>1m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># ocmConfig is required, if the OCM repository requires credentials to access it.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># ocmConfig:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># OCIRepository watches and downloads the resource from the location provided by the Resource status.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># The Helm chart location (url) refers to the status of the resource helm-resource.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=l>ocirepository</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>source.toolkit.fluxcd.io/v1beta2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>OCIRepository</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap-ocirepository</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class=l>1m0s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>insecure</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>layerSelector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>mediaType</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;application/vnd.cncf.helm.chart.content.v1.tar+gzip&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>operation</span><span class=p>:</span><span class=w> </span><span class=l>copy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>oci://${resourceChart.status.reference.registry}/${resourceChart.status.reference.repository}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ref</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=l>${resourceChart.status.reference.tag}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># secretRef is required, if the OCI repository requires credentials to access it.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># secretRef:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># HelmRelease refers to the OCIRepository, lets you configure the helm chart and deploys the Helm Chart into the</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># Kubernetes cluster.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=l>helmrelease</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>helm.toolkit.fluxcd.io/v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>HelmRelease</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap-helmrelease</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>releaseName</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap-release</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class=l>1m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class=l>5m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>chartRef</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>OCIRepository</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>${ocirepository.metadata.name}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>values</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c># This is the second step of the localization. We use the image reference from the resource &#34;image-resource&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c># and insert it into the Helm chart values.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>image</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>repository</span><span class=p>:</span><span class=w> </span><span class=l>${resourceImage.status.reference.registry}/${resourceImage.status.reference.repository}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=l>${resourceImage.status.reference.tag}</span></span></span></code></pre></div></figure></div><div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3"><div class=callout-content><div class=callout-body><p>If you plan to push your OCM component version to a private registry, you need to provide credentials for the OCM
controllers and FluxCDs <code>OCIRepository</code> (if the Helm chart is also stored in a private registry). Accordingly, you
have to specify the <code>ocmConfig</code> field in the <code>Resource</code> resources and the <code>secretRef</code> field in the <code>OCIRepository</code>.</p><p>If you want to use the same credentials for FluxCD and for the OCM controller resources, create a
<a href=/dev/docs/tutorials/credentials-for-ocm-controllers/#create-a-kubernetes-secret-of-type-dockerconfigjson-to-access-private-ocm-repositories>Kubernetes secret of type <code>dockerconfigjson</code></a>
and keep all the resources in the same namespace.</p></div></div></div><p>After creating both files, we can create the OCM component version using the following command:</p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ocm add componentversion --create --file ./ctf component-constructor.yaml</span></span></code></pre></div></figure></div><p>This will create a local CTF (Component Transfer Format) directory <code>./ctf</code> containing the OCM component version. Since
the OCM component version must be accessible for the OCM controllers, we will transfer the CTF to a
registry. For this example, we will use GitHub&rsquo;s container registry, but you can use any OCI registry. Additionally,
we will use the flag <code>--copy-resources</code> to make sure that all referential resources, for instance the Helm chart, will
be localized in the first step - so, the image reference is updated to the new registry location:</p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ocm transfer ctf --copy-resources ./ctf ghcr.io/&lt;your-namespace&gt;</span></span></code></pre></div></figure></div><div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3"><div class=callout-content><div class=callout-body><p>If you are using a registry that requires authentication, you need to provide credentials for ocm. Please refer to
the
<a href=/dev/docs/tutorials/credentials-in-an-.ocmconfig-file/>OCM CLI credentials documentation</a> for more information on how to set up and use credentials.</p></div></div></div><p>If everything went well, you should see the following output:</p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ocm get componentversion ghcr.io/&lt;your-namespace&gt;//ocm.software/ocm-k8s-toolkit/bootstrap:1.0.0 -o yaml <span class=p>|</span> yq .component.resources</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl># Output is truncated for brevity
</span></span><span class=line><span class=cl>- access:
</span></span><span class=line><span class=cl>    imageReference: ghcr.io/&lt;your-namespace&gt;/stefanprodan/charts/podinfo:6.9.1@sha256:565d310746f1fa4be7f93ba7965bb393153a2d57a15cfe5befc909b790a73f8a
</span></span><span class=line><span class=cl>    type: ociArtifact
</span></span><span class=line><span class=cl>  digest:
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl>  name: helm-resource
</span></span><span class=line><span class=cl>  relation: external
</span></span><span class=line><span class=cl>  type: helmChart
</span></span><span class=line><span class=cl>  version: 1.0.0
</span></span><span class=line><span class=cl>- access:
</span></span><span class=line><span class=cl>    imageReference: ghcr.io/&lt;your-namespace&gt;/stefanprodan/podinfo:6.9.1@sha256:262578cde928d5c9eba3bce079976444f624c13ed0afb741d90d5423877496cb
</span></span><span class=line><span class=cl>    type: ociArtifact
</span></span><span class=line><span class=cl>  digest:
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl>  name: image-resource
</span></span><span class=line><span class=cl>  relation: external
</span></span><span class=line><span class=cl>  type: ociArtifact
</span></span><span class=line><span class=cl>  version: 1.0.0
</span></span><span class=line><span class=cl>- access:
</span></span><span class=line><span class=cl>    localReference: sha256:ed5252ff70bfe93e763ff6afeafe8dafd14c128981e4ae1472e35afc3ebe7a63
</span></span><span class=line><span class=cl>    mediaType: application/octet-stream
</span></span><span class=line><span class=cl>    type: localBlob
</span></span><span class=line><span class=cl>  digest:
</span></span><span class=line><span class=cl>     ...
</span></span><span class=line><span class=cl>  name: resource-graph-definition
</span></span><span class=line><span class=cl>  relation: local
</span></span><span class=line><span class=cl>  type: blob
</span></span><span class=line><span class=cl>  version: 1.0.0</span></span></code></pre></div></figure></div><h2 id=deploy-the-helm-chart>Deploy the Helm Chart<a href=#deploy-the-helm-chart class=anchor aria-hidden=true>#</a></h2><p>To deploy the Helm chart from the OCM component, we first need to create all resources that are required to bootstrap
the <code>ResourceGraphDefinition</code> from the OCM component. Afterwards, we will create an instance of the resulting Custom
Resource Definition (CRD) which will deploy the Helm chart and configure the localization.</p><h3 id=bootstrapping>Bootstrapping<a href=#bootstrapping class=anchor aria-hidden=true>#</a></h3><p>The bootstrap process consists of creating the OCM controller resources that will download and apply the
<code>ResourceGraphDefinition</code>.
First, we will create a <code>Repository</code> and <code>Component</code> resource that point to the OCM component in the registry
(the <code>Component</code> resource is reused in the <code>ResourceGraphDefinition</code> (see above) as reference for the <code>Resource</code>
resources).
Then, we create the <code>Resource</code> resource that references by name to the OCM resource containing the
<code>ResourceGraphDefinition</code>.
Finally, we will create a <code>Deployer</code> resource that will download the <code>ResourceGraphDefinition</code> and apply it to the
cluster.</p><p>To proceed, create the following file named <code>bootstrap.yaml</code> containing the above-mentioned resources:</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>delivery.ocm.software/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Repository</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap-repository</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>repositorySpec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># Adjust to your OCM repository</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>baseUrl</span><span class=p>:</span><span class=w> </span><span class=l>ghcr.io/&lt;your-namespace&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>OCIRegistry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class=l>1m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># ocmConfig is required, if the OCM repository requires credentials to access it.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># ocmConfig:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>delivery.ocm.software/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Component</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap-component</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>component</span><span class=p>:</span><span class=w> </span><span class=l>ocm.software/ocm-k8s-toolkit/bootstrap</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>repositoryRef</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap-repository</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>semver</span><span class=p>:</span><span class=w> </span><span class=m>1.0.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class=l>1m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># ocmConfig is required, if the OCM repository requires credentials to access it.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># ocmConfig:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>delivery.ocm.software/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Resource</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap-rgd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>componentRef</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap-component</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>resource</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>byReference</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>resource</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>resource-graph-definition</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class=l>1m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># ocmConfig is required, if the OCM repository requires credentials to access it.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># ocmConfig:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>delivery.ocm.software/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Deployer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap-deployer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>resourceRef</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># Reference to the Kubernetes resource OCM resource that contains the ResourceGraphDefinition.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap-rgd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># As kro processes resources in cluster-scope*, the deployer must also be cluster-scoped. Accordingly, we have to</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># set the namespace of the resource here (usually, when the namespace is not specified, it is derived from the</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># referencing Kubernetes resource).</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># Check out the kro documentation for more details:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># https://github.com/kro-run/kro/blob/8f53372bfde232db7ddd6809eebb6a1d69b34f2e/website/docs/docs/concepts/20-access-control.md</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># ocmConfig is required, if the OCM repository requires credentials to access it.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># (You also need to specify the namespace of the reference as the &#39;deployer&#39; is cluster-scoped.)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># ocmConfig:</span></span></span></code></pre></div></figure></div><div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3"><div class=callout-content><div class=callout-body><p>Again, if your OCM component version is stored in a private registry, you need to provide credentials for the OCM controller resources to access the OCM repository. You can do so by specifying the <code>ocmConfig</code> field in the <code>Repository</code>,
<code>Component</code>, <code>Resource</code>, and <code>Deployer</code> resources. For more information on how to set up credentials, please refer to
the
<a href=/dev/docs/tutorials/credentials-for-ocm-controllers/>OCM controller credentials guide</a>.</p></div></div></div><p>Afterwards, apply the <code>bootstrap.yaml</code> to the cluster:</p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl apply -f bootstrap.yaml</span></span></code></pre></div></figure></div><p>This will create all the defined resources in the cluster and reconcile them. This can take a few seconds. As a result,
you should see the <code>ResourceGraphDefinition</code> being created in the cluster:</p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get rgd</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>NAME        APIVERSION   KIND        STATE    AGE
</span></span></span><span class=line><span class=cl><span class=go>bootstrap   v1alpha1     Bootstrap   Active   2m56s
</span></span></span></code></pre></div></figure></div><p>By applying the <code>ResourceGraphDefinition</code> successfully, a Custom Resource Definition (CRD) named <code>Bootstrap</code> is
created in the cluster. Check if the CRD is available by using the following command:</p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get crd bootstraps.kro.run</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>NAME                 CREATED AT
</span></span></span><span class=line><span class=cl><span class=go>bootstraps.kro.run   2025-05-28T11:40:38Z
</span></span></span></code></pre></div></figure></div><h4 id=troubleshooting>Troubleshooting<a href=#troubleshooting class=anchor aria-hidden=true>#</a></h4><p>You can check the status of the <code>ResourceGraphDefinition</code> by investigating the status of the resources or the logs of
the <code>ocm-k8s-toolkit-controller-manager</code>.</p><p>One common issue, when using GitHub&rsquo;s container registry, is that the transferred OCM component is by default a
private package. If so, you might see an error like the following:</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>failed to list versions: failed to list tags: GET &#34;https://ghcr.io/v2...&#34;: response status code 401: unauthorized: authentication required
</span></span></span></code></pre></div></figure></div><p>You can resolve this issue by making the package public or by
<a href=/dev/docs/tutorials/credentials-for-ocm-controllers/>providing credentials</a> to the
respective resources.</p><h3 id=create-an-instance>Create an Instance<a href=#create-an-instance class=anchor aria-hidden=true>#</a></h3><p>After applying the <code>ResourceGraphDefinition</code> and making sure that the resulting CRD is available, we can create an
instance of the CRD, which will deploy the Helm chart and configure the localization. To do so, create a file containing
the following content and name it <code>instance.yaml</code>:</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>kro.run/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Bootstrap</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>bootstrap</span></span></span></code></pre></div></figure></div><p>Then, apply the instance to the cluster:</p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl apply -f instance.yaml</span></span></code></pre></div></figure></div><p>If successful, you should see the following output:</p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get bootstrap</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>NAME        STATE    SYNCED   AGE
</span></span></span><span class=line><span class=cl><span class=go>bootstrap   ACTIVE   True     3m23s
</span></span></span></code></pre></div></figure></div><p>If the instance is in the <code>ACTIVE</code> state, the resources defined in the <code>ResourceGraphDefinition</code> were created and
reconciled. This includes the OCM controller resources for the Helm chart and the image, as well as FluxCDs
resources for the OCI repository and the Helm release. Accordingly, you should see the following deployment in the
cluster. To see, if the deployment was successful, you can use the following command:</p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get deployments</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>NAME                        READY   UP-TO-DATE   AVAILABLE   AGE
</span></span></span><span class=line><span class=cl><span class=go>bootstrap-release-podinfo   1/1     1            1           4m25s
</span></span></span></code></pre></div></figure></div><p>Finally, you can check the pod itself to see if the localization was applied correctly by checking the image name
in the container::</p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods -l app.kubernetes.io/name<span class=o>=</span>bootstrap-release-podinfo -o <span class=nv>jsonpath</span><span class=o>=</span><span class=s1>&#39;{.items[0].spec.containers[0].image}&#39;</span></span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>ghcr.io/&lt;your-namespace&gt;/stefanprodan/podinfo:6.9.1
</span></span></span></code></pre></div></figure></div><p>You now have successfully created an OCM component containing a Helm chart, the respective image for localization, and a
<code>ResourceGraphDefintion</code> to deploy your Helm chart and localize the image.
By creating the required bootstrap-resources you bootstrapped the <code>ResourceGraphDefinition</code> from the OCM component
and created the resulting CRD.
Finally, you created an instance of the CRD which deployed the Helm chart and configured the localization using the OCM
controllers, kro, and FluxCD.</p><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"></div><div class="page-nav d-flex flex-column flex-sm-row"><div class="card w-100"><div class="card-body d-flex"><div class="d-flex flex-column justify-content-center"><svg class="icon icon-tabler icon-tabler-arrow-left" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12h14"/><path d="M5 12l6 6"/><path d="M5 12l6-6"/></svg></div><div class="d-flex flex-column"><div class=text-body-secondary>Prev</div><a href=/dev/docs/tutorials/signing-and-verification/ class="stretched-link text-reset text-decoration-none">Signing and Verification</a></div></div></div><div class=m-2></div><div class="card text-end w-100"><div class="card-body d-flex justify-content-end"><div class="d-flex flex-column"><div class=text-body-secondary>Next</div><a href=/dev/docs/reference/ocm-cli/ocm/ class="stretched-link text-reset text-decoration-none">ocm</a></div><div class="d-flex flex-column justify-content-center"><svg class="icon icon-tabler icon-tabler-arrow-right" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12h14"/><path d="M13 18l6-6"/><path d="M13 6l6 6"/></svg></div></div></div></div></main></div></div></div></div><script async src=/js/app.27b67eaa7e52eb35e03d2775ac98891eccc93dd4d7fcfe07f7b55c52c6824247.js integrity="sha256-J7Z+qn5S6zXgPSd1rJiJHszJPdTX/P4H97VcUsaCQkc="></script><script async src=/js/flexsearch.113b7edaabeb04644a4b0da964854226f135a5e10d3341884f25bd0ad1ee4def.js integrity="sha256-ETt+2qvrBGRKSw2pZIVCJvE1peENM0GITyW9CtHuTe8="></script><script async src=/js/search-modal.96e662d8f691fe25c859a3437074b485f2d7bed0bca612725028c6cf4322e2f2.js integrity="sha256-luZi2PaR/iXIWaNDcHS0hfLXvtC8phJyUCjGz0Mi4vI="></script><script type=module src=/js/mermaid-init.js></script><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script></body></html>