<!doctype html><html lang=en data-bs-theme=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preload href=https://ocm.software/dev/fonts/vendor/jost/jost-v4-latin-regular.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://ocm.software/dev/fonts/vendor/jost/jost-v4-latin-500.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://ocm.software/dev/fonts/vendor/jost/jost-v4-latin-700.woff2 as=font type=font/woff2 crossorigin><script src=/dev/js/color-mode.86a91f050a481d0a3f0c72ac26543cb6228c770875981c58dcbc008fd3f875c8.js integrity="sha256-hqkfBQpIHQo/DHKsJlQ8tiKMdwh1mBxY3LwAj9P4dcg="></script><link rel=stylesheet href="/dev/main.280c0d146b901367590bb934367546b21e3205d698c3c21a7da03372084902106a17179af862ddc381f88910777b32fe700dbc022383bd85ca8b534a4ab797ad.css" integrity="sha512-KAwNFGuQE2dZC7k0NnVGsh4yBdaYw8IafaAzcghJAhBqFxea+GLdw4H4iRB3ezL+cA28AiODvYXKi1NKSreXrQ==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><base href=https://ocm.software/dev/docs/tutorials/signing-and-verification/><link rel=canonical href=https://ocm.software/dev/docs/tutorials/signing-and-verification/><title>Signing and Verification | Open Component Model</title><meta name=description content="Complete guide to cryptographic signing and verification in OCM."><link rel=icon href=/dev/favicon.ico sizes=32x32><link rel=icon href=/dev/favicon.svg type=image/svg+xml><link rel=apple-touch-icon href=/dev/dev/apple-touch-icon.png sizes=180x180 type=image/png><link rel=icon href=/dev/favicon-192x192.png sizes=192x192 type=image/png><link rel=icon href=/dev/favicon-512x512.png sizes=512x512 type=image/png><link rel=manifest href=/dev/manifest.webmanifest><meta property="og:url" content="https://ocm.software/dev/docs/tutorials/signing-and-verification/"><meta property="og:site_name" content="Open Component Model"><meta property="og:title" content="Signing and Verification"><meta property="og:description" content="Complete guide to cryptographic signing and verification in OCM."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta name=twitter:card content="summary"><meta name=twitter:title content="Signing and Verification"><meta name=twitter:description content="Complete guide to cryptographic signing and verification in OCM."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://ocm.software/dev/","name":"Open Component Model","position":1},{"@type":"ListItem","item":"https://ocm.software/dev/docs/","name":"Documentation","position":2},{"@type":"ListItem","item":"https://ocm.software/dev/docs/tutorials/","name":"Tutorials","position":3},{"@type":"ListItem","name":"Signing and Verification","position":4}]}</script></head><body data-bs-spy=scroll data-bs-target=#toc data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll=true tabindex=0><header class=header><nav class="navbar navbar-expand-lg"><div class=container-fluid><a class=navbar-brand href=/dev/><img src=/dev/images/base.svg alt="Open Component Model Logo" width=48 height=48 class=d-inline-block>
<span class="ms-2 fw-bold"><span class=word>Open</span>
<span class=word>Component</span>
<span class=word>Model</span>
</span></a><button type=button id=searchToggleMobile class="btn btn-link nav-link p-0 d-lg-none ms-auto" aria-label=Search>
<svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1014 0A7 7 0 103 10"/><path d="M21 21l-6-6"/></svg>
</button>
<button class=navbar-toggler type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasNavbar aria-controls=offcanvasNavbar>
<svg class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 6h16"/><path d="M4 12h16"/><path d="M4 18h16"/></svg></button><div class="offcanvas offcanvas-end" tabindex=-1 id=offcanvasNavbar aria-labelledby=offcanvasNavbarLabel><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasNavbarLabel><span class=word>Open</span>
<span class=word>Component</span>
<span class=word>Model</span></h5><button type=button class="btn-close text-reset" data-bs-dismiss=offcanvas aria-label=Close></button></div><div class=offcanvas-body><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class=nav-item><a class=nav-link href=/dev/docs/>Docs</a></li><li class=nav-item><a class=nav-link href=/dev/community/engagement>Community</a></li><li class=nav-item><a class=nav-link href=https://github.com/orgs/open-component-model/projects/10/views/5>Roadmap</a></li></ul><div class=navbar-right><button type=button id=searchToggleDesktop class="btn btn-link nav-link p-0 me-3 d-none d-lg-flex" aria-label=Search>
<svg class="icon icon-tabler icon-tabler-search" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1014 0A7 7 0 103 10"/><path d="M21 21l-6-6"/></svg>
</button>
<button id=buttonColorMode class="btn btn-link nav-link p-0 mode-toggle me-3 d-none d-lg-flex" type=button aria-label="Toggle theme">
<svg data-bs-theme-value="dark" class="icon icon-tabler icon-tabler-moon" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132.0.263.0.393.0a7.5 7.5.0 007.92 12.446A9 9 0 1112 2.992z"/></svg>
<svg data-bs-theme-value="light" class="icon icon-tabler icon-tabler-sun" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-4 0a4 4 0 108 0 4 4 0 10-8 0"/><path d="M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></svg>
</button>
<a href=https://github.com/open-component-model target=_blank class="header-github-pill d-none d-lg-inline-flex" aria-label=GitHub><span class=icon><svg class="icon icon-tabler icon-tabler-brand-github" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></span>
</a><a href=https://kubernetes.slack.com/archives/C05UWBE8R1D target=_blank class="header-github-pill d-none d-lg-inline-flex" aria-label=Slack><span class=icon><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-slack"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12V6a2 2 0 014 0v6m0-2a2 2 0 112 2h-6"/><path d="M12 12h6a2 2 0 010 4h-6m2 0a2 2 0 11-2 2v-6"/><path d="M12 12v6a2 2 0 01-4 0v-6m0 2a2 2 0 11-2-2h6"/><path d="M12 12H6a2 2 0 010-4h6m-2 0a2 2 0 112-2v6"/></svg></span></a><div class="dropdown me-3 d-none d-lg-flex"><button class="btn btn-link nav-link p-0 dropdown-toggle btn-dropdown" id=doks-versions data-bs-toggle=dropdown aria-expanded=false data-bs-display=static aria-label="Toggle version menu">
Versions
<span class=dropdown-caret><svg class="icon icon-tabler icon-tabler-chevron-down" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 9l6 6 6-6"/></svg></span></button><ul class="dropdown-menu dropdown-menu-lg-end shadow rounded border-0" aria-labelledby=doks-versions><li><a class="dropdown-item current" aria-current=true href=/dev/>dev</a></li><li><a class=dropdown-item href=/>current <span class=version-flag>(default)</span></a></li></ul></div><div class=version-droplet role=status aria-live=polite data-tooltip="You are currently viewing documentation for the dev version of OCM. This version is under development and contains our next major release with lots of breaking changes."><span class=text>Dev</span></div></div></div></div></div></nav></header><div class=modal id=searchModal tabindex=-1 aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down"><div class=modal-content><div class=modal-header><h1 class="modal-title fs-5 visually-hidden" id=searchModalLabel>Search</h1><button type=button class="btn-close visually-hidden" data-bs-dismiss=modal aria-label=Close></button><div class="search-input flex-grow-1 d-none"><form id=search-form class=search-form action=# method=post accept-charset=UTF-8 role=search><label for=query class=visually-hidden>Search</label><div class=d-flex><input type=search id=query name=query class="search-text form-control form-control-lg" placeholder=Search aria-label=Search maxlength=128 autocomplete=off>
<button type=button class="btn btn-link text-decoration-none px-0 ms-3 d-md-none" data-bs-dismiss=modal aria-label=Close>Cancel</button></div></form></div></div><div class=modal-body><p class="search-loading status message d-none mt-3 text-center">Loading search index…</p><p class="search-no-recent message d-none mt-3 text-center">No recent searches</p><p class="search-no-results message d-none mt-3 text-center">No results for "<strong><span class=query-no-results>Query here</span></strong>"</p><div id=searchResults class=search-results></div><template><article class="search-result list-view"><div class="card my-3"><div class=card-body><header><h2 class="h5 title title-submitted mb-0"><a class="stretched-link text-decoration-none text-reset" href=#>Title here</a></h2><div class="submitted d-none"><time class=created-date>Date here</time></div></header><div class=content>Summary here</div></div></div></article></template></div><div class=modal-footer><ul class="list-inline me-auto d-none d-md-block"><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4m3 3-3-3 3-3"/></g></svg></kbd><span class=DocSearch-Label>to select</span></li><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8m3-3-3 3-3-3"/></g></svg></kbd><kbd class=me-2><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8m3 3-3-3-3 3"/></g></svg></kbd><span class=DocSearch-Label>to navigate</span></li><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993.0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016s1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5s-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864.0 1.6425 1.031 1.5443 2.2492h-2.956"/></g></svg></kbd><span class=DocSearch-Label>to close</span></li></ul><p class=d-md-none>Search by <a class=text-decoration-none href=https://github.com/nextapps-de/flexsearch>FlexSearch</a></p></div></div></div></div><div class='wrap container-fluid' role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar docs-sidebar-offset d-none d-lg-block"><nav class="section-nav docs-links"><ul class=list-unstyled><li><details><summary>Overview</summary><ul class="list-unstyled list-nested"><li><a href=/dev/docs/overview/about/>About the OCM Project</a></li><li><a href=/dev/docs/overview/benefits-of-ocm/>Benefits of OCM</a></li></ul></details></li><li><details><summary>Getting Started</summary><ul class="list-unstyled list-nested"><li><a href=/dev/docs/getting-started/installation/>Install the OCM CLI</a></li><li><a href=/dev/docs/getting-started/create-component-version/>Create and Examine Component Versions</a></li><li><a href=/dev/docs/getting-started/download-resources-from-component-versions/>Download Resources from Component Versions</a></li><li><a href=/dev/docs/getting-started/sign-component-version/>Sign Component Versions</a></li><li><a href=/dev/docs/getting-started/verify-component-version/>Verify Component Versions</a></li><li><a href=/dev/docs/getting-started/set-up-an-ocm-controller-environment/>Set Up an OCM Controller Environment</a></li><li><a href=/dev/docs/getting-started/deploy-a-helm-chart/>Deploy a Helm Chart</a></li></ul></details></li><li><details><summary>Concepts</summary><ul class="list-unstyled list-nested"><li><a href=/dev/docs/concepts/ocm-components/>OCM Components</a></li><li><a href=/dev/docs/concepts/ocm-coordinates/>OCM Coordinates</a></li><li><a href=/dev/docs/concepts/ocm-controllers/>OCM Controllers</a></li></ul></details></li><li><details open><summary>Tutorials</summary><ul class="list-unstyled list-nested"><li><a href=/dev/docs/tutorials/complex-component-structure-deployment/>Structure Software Products with OCM</a></li><li><a href=/dev/docs/getting-started/component-descriptor-example/>Example of a Component Descriptor</a></li><li><a href=/dev/docs/tutorials/input-and-access-types/>Input and Access Types</a></li><li><a href=/dev/docs/tutorials/configure-credentials-for-ocm-controllers/>Configure Credentials for OCM Controllers</a></li><li><a href=/dev/docs/tutorials/creds-in-ocmconfig/>Credentials in an .ocmconfig File</a></li><li class=active><a aria-current=page href=/dev/docs/tutorials/signing-and-verification/>Signing and Verification</a></li><li><a href=/dev/docs/tutorials/deploy-a-helm-chart-with-bootstrap/>Deploy a Helm Chart (with Bootstrap)</a></li></ul></details></li><li><details><summary>Reference</summary><ul class="list-unstyled list-nested"><li><details><summary>OCM CLI</summary><ul class="list-unstyled list-nested"><li><a href=/dev/docs/reference/ocm-cli/ocm/>ocm</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-add/>ocm add</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-add-component-version/>ocm add component-version</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-completion/>ocm completion</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-completion-bash/>ocm completion bash</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-completion-fish/>ocm completion fish</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-completion-powershell/>ocm completion powershell</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-completion-zsh/>ocm completion zsh</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-download/>ocm download</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-download-plugin/>ocm download plugin</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-download-resource/>ocm download resource</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-generate/>ocm generate</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-generate-docs/>ocm generate docs</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-get/>ocm get</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-get-component-version/>ocm get component-version</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-plugin/>ocm plugin</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-plugin-registry/>ocm plugin registry</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-plugin-registry-get/>ocm plugin registry get</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-plugin-registry-list/>ocm plugin registry list</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-sign/>ocm sign</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-sign-component-version/>ocm sign component-version</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-verify/>ocm verify</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-verify-component-version/>ocm verify component-version</a></li><li><a href=/dev/docs/reference/ocm-cli/ocm-version/>ocm version</a></li></ul></details></li></ul></details></li></ul></nav></div><div class="col container-fw d-lg-flex flex-lg-row justify-content-center mx-auto"><nav class="docs-toc docs-toc-offset d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=toc><ul><li><a href=#overview>Overview</a></li><li><a href=#signing-and-verification-workflow>Signing and Verification Workflow</a><ul><li><a href=#high-level-process>High-Level Process</a></li><li><a href=#workflow-comparison>Workflow Comparison</a></li><li><a href=#what-gets-signed>What Gets Signed?</a></li></ul></li><li><a href=#key-pair-generation-optional>Key Pair Generation (Optional)</a><ul><li><a href=#choose-your-approach>Choose Your Approach</a></li><li><a href=#self-signed-vs-ca-signed>Self-Signed vs. CA-Signed</a></li></ul></li><li><a href=#key-pair-generation>Key Pair Generation</a><ul><li><a href=#directory-structure-setup>Directory Structure Setup</a></li><li><a href=#self-signed-keys-development>Self-Signed Keys (Development)</a></li><li><a href=#ca-signed-keys-production>CA-Signed Keys (Production)</a></li></ul></li><li><a href=#configuring-keys-in-an-ocmconfig-file>Configuring Keys in an .ocmconfig File</a><ul><li><a href=#basic-signing-configuration-development>Basic Signing Configuration (Development)</a></li><li><a href=#basic-verification-configuration-development>Basic Verification Configuration (Development)</a></li><li><a href=#identity-attributes-explained>Identity Attributes Explained</a></li></ul></li><li><a href=#multi-environment-configuration>Multi-Environment Configuration</a><ul><li><a href=#combined-configuration-example>Combined Configuration Example</a></li><li><a href=#usage-examples>Usage Examples</a></li><li><a href=#verification-only-configuration>Verification-Only Configuration</a></li></ul></li><li><a href=#signer-specifications>Signer Specifications</a><ul><li><a href=#when-to-use-signer-specs>When to Use Signer Specs</a></li><li><a href=#signer-spec-file-format>Signer Spec File Format</a></li><li><a href=#default-signer-spec-behavior>Default Signer Spec Behavior</a></li><li><a href=#example-using-signer-spec-in-cicd>Example: Using Signer Spec in CI/CD</a></li></ul></li><li><a href=#signature-encoding-policies>Signature Encoding Policies</a><ul><li><a href=#plain-encoding-default>Plain Encoding (Default)</a></li><li><a href=#pem-encoding>PEM Encoding</a></li></ul></li><li><a href=#signing-component-versions>Signing Component Versions</a><ul><li><a href=#basic-signing>Basic Signing</a></li><li><a href=#advanced-signing-options>Advanced Signing Options</a></li><li><a href=#common-signing-flags>Common Signing Flags</a></li></ul></li><li><a href=#verifying-component-versions>Verifying Component Versions</a><ul><li><a href=#basic-verification>Basic Verification</a></li><li><a href=#verification-with-external-public-key>Verification with External Public Key</a></li><li><a href=#verification-process>Verification Process</a></li><li><a href=#verification-success-criteria>Verification Success Criteria</a></li></ul></li><li><a href=#trust-models>Trust Models</a><ul><li><a href=#1-key-pinning-self-signed>1. Key Pinning (Self-Signed)</a></li><li><a href=#2-system-trust-store-ca-signed-pem-encoding>2. System Trust Store (CA-Signed, PEM Encoding)</a></li></ul></li><li><a href=#complete-configuration-examples>Complete Configuration Examples</a><ul><li><a href=#example-1-development-setup-self-signed>Example 1: Development Setup (Self-Signed)</a></li><li><a href=#example-2-enterprise-production-setup-ca-signed-pem-encoding>Example 2: Enterprise Production Setup (CA-Signed, PEM Encoding)</a></li></ul></li><li><a href=#troubleshooting>Troubleshooting</a><ul><li><a href=#signature-verification-fails>Signature Verification Fails</a></li><li><a href=#private-key-not-found>Private Key Not Found</a></li><li><a href=#certificate-chain-validation-fails-pem>Certificate Chain Validation Fails (PEM)</a></li><li><a href=#signature-already-exists>Signature Already Exists</a></li></ul></li><li><a href=#summary>Summary</a></li><li><a href=#related-documentation>Related Documentation</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>Signing and Verification</h1><nav class="toc-mobile d-xl-none" aria-label="Quaternary navigation"><details><summary>On this page</summary><div class=page-links><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#signing-and-verification-workflow>Signing and Verification Workflow</a><ul><li><a href=#high-level-process>High-Level Process</a></li><li><a href=#workflow-comparison>Workflow Comparison</a></li><li><a href=#what-gets-signed>What Gets Signed?</a></li></ul></li><li><a href=#key-pair-generation-optional>Key Pair Generation (Optional)</a><ul><li><a href=#choose-your-approach>Choose Your Approach</a></li><li><a href=#self-signed-vs-ca-signed>Self-Signed vs. CA-Signed</a></li></ul></li><li><a href=#key-pair-generation>Key Pair Generation</a><ul><li><a href=#directory-structure-setup>Directory Structure Setup</a></li><li><a href=#self-signed-keys-development>Self-Signed Keys (Development)</a></li><li><a href=#ca-signed-keys-production>CA-Signed Keys (Production)</a></li></ul></li><li><a href=#configuring-keys-in-an-ocmconfig-file>Configuring Keys in an .ocmconfig File</a><ul><li><a href=#basic-signing-configuration-development>Basic Signing Configuration (Development)</a></li><li><a href=#basic-verification-configuration-development>Basic Verification Configuration (Development)</a></li><li><a href=#identity-attributes-explained>Identity Attributes Explained</a></li></ul></li><li><a href=#multi-environment-configuration>Multi-Environment Configuration</a><ul><li><a href=#combined-configuration-example>Combined Configuration Example</a></li><li><a href=#usage-examples>Usage Examples</a></li><li><a href=#verification-only-configuration>Verification-Only Configuration</a></li></ul></li><li><a href=#signer-specifications>Signer Specifications</a><ul><li><a href=#when-to-use-signer-specs>When to Use Signer Specs</a></li><li><a href=#signer-spec-file-format>Signer Spec File Format</a></li><li><a href=#default-signer-spec-behavior>Default Signer Spec Behavior</a></li><li><a href=#example-using-signer-spec-in-cicd>Example: Using Signer Spec in CI/CD</a></li></ul></li><li><a href=#signature-encoding-policies>Signature Encoding Policies</a><ul><li><a href=#plain-encoding-default>Plain Encoding (Default)</a></li><li><a href=#pem-encoding>PEM Encoding</a></li></ul></li><li><a href=#signing-component-versions>Signing Component Versions</a><ul><li><a href=#basic-signing>Basic Signing</a></li><li><a href=#advanced-signing-options>Advanced Signing Options</a></li><li><a href=#common-signing-flags>Common Signing Flags</a></li></ul></li><li><a href=#verifying-component-versions>Verifying Component Versions</a><ul><li><a href=#basic-verification>Basic Verification</a></li><li><a href=#verification-with-external-public-key>Verification with External Public Key</a></li><li><a href=#verification-process>Verification Process</a></li><li><a href=#verification-success-criteria>Verification Success Criteria</a></li></ul></li><li><a href=#trust-models>Trust Models</a><ul><li><a href=#1-key-pinning-self-signed>1. Key Pinning (Self-Signed)</a></li><li><a href=#2-system-trust-store-ca-signed-pem-encoding>2. System Trust Store (CA-Signed, PEM Encoding)</a></li></ul></li><li><a href=#complete-configuration-examples>Complete Configuration Examples</a><ul><li><a href=#example-1-development-setup-self-signed>Example 1: Development Setup (Self-Signed)</a></li><li><a href=#example-2-enterprise-production-setup-ca-signed-pem-encoding>Example 2: Enterprise Production Setup (CA-Signed, PEM Encoding)</a></li></ul></li><li><a href=#troubleshooting>Troubleshooting</a><ul><li><a href=#signature-verification-fails>Signature Verification Fails</a></li><li><a href=#private-key-not-found>Private Key Not Found</a></li><li><a href=#certificate-chain-validation-fails-pem>Certificate Chain Validation Fails (PEM)</a></li><li><a href=#signature-already-exists>Signature Already Exists</a></li></ul></li><li><a href=#summary>Summary</a></li><li><a href=#related-documentation>Related Documentation</a></li></ul></nav></div></details></nav><div style=margin-bottom:2rem></div><h2 id=overview>Overview<a href=#overview class=anchor aria-hidden=true>#</a></h2><p>The Open Component Model provides cryptographic signing and verification capabilities
to establish <strong>provenance</strong> and <strong>authenticity</strong> of component versions.
This guide covers the complete signing and verification workflow, from key pair generation to trust model selection.</p><p><strong>This guide is for users who want to:</strong></p><ul><li>Understand how OCM handles component signing and verification</li><li>Learn about supported signature types</li><li>See step-by-step signing and verification examples</li><li>Plan multi-environment workflows with dedicated signing profiles (dev/staging/prod)</li><li>Understand how signer specifications and encoding policies complement <code>.ocmconfig</code></li></ul><h2 id=signing-and-verification-workflow>Signing and Verification Workflow<a href=#signing-and-verification-workflow class=anchor aria-hidden=true>#</a></h2><h3 id=high-level-process>High-Level Process<a href=#high-level-process class=anchor aria-hidden=true>#</a></h3><p>A side-by-side comparison makes it clear how both flows mirror the same normalization and hashing steps while differing only in credential handling.</p><h3 id=workflow-comparison>Workflow Comparison<a href=#workflow-comparison class=anchor aria-hidden=true>#</a></h3><table><thead><tr><th>Step</th><th>Signing Flow</th><th>Verification Flow</th></tr></thead><tbody><tr><td>1</td><td>Resolve signing credentials from <code>.ocmconfig</code> or signer spec</td><td>Resolve signature by name and load public key/certificate (config, CLI flag, or embedded PEM)</td></tr><tr><td>2</td><td>Normalize component descriptor (selected algorithm)</td><td>Normalize component descriptor with the same algorithm</td></tr><tr><td>3</td><td>Hash normalized descriptor (selected hash)</td><td>Hash normalized descriptor and compare against signature digest</td></tr><tr><td>4</td><td>Produce signature, store it with descriptor metadata</td><td>Verify signature (and certificate chain if PEM)</td></tr></tbody></table><h3 id=what-gets-signed>What Gets Signed?<a href=#what-gets-signed class=anchor aria-hidden=true>#</a></h3><p>OCM signs the <strong>component descriptor</strong>, which contains:</p><ul><li>Component metadata (name, version, provider)</li><li>Resources (artifacts like container images, Helm charts)</li><li>Sources (references to source code)</li><li>References to other components</li><li><strong>Resource digests</strong> (cryptographic hashes of artifacts)</li></ul><p><strong>Important:</strong> OCM does <strong>not</strong> sign the artifacts themselves, but rather their digests in the component descriptor. This provides:</p><ul><li>✅ Efficient verification (no external dependencies)</li><li>✅ Tamper detection (any change to artifacts invalidates the signature)</li><li>✅ Provenance (signature proves who created/released the component version)</li></ul><h2 id=key-pair-generation-optional>Key Pair Generation (Optional)<a href=#key-pair-generation-optional class=anchor aria-hidden=true>#</a></h2><blockquote><p><strong>Already have RSA key pairs?</strong> Skip to
<a href=#configuring-keys-in-an-ocmconfig-file>Configuring Keys in an .ocmconfig File</a>.</p></blockquote><p>This section covers general RSA key pair generation and management. If you already have suitable RSA keys (self-signed or CA-signed), you can use them directly with OCM and skip to the configuration section.</p><h3 id=choose-your-approach>Choose Your Approach<a href=#choose-your-approach class=anchor aria-hidden=true>#</a></h3><p>Before generating keys, decide which approach fits your needs:</p><table><thead><tr><th>Your Situation</th><th>Recommended Approach</th></tr></thead><tbody><tr><td>Local development or testing</td><td><strong>Self-Signed Keys</strong></td></tr><tr><td>Production environment</td><td><strong>CA-Signed Keys</strong></td></tr><tr><td>Enterprise/Multi-organization</td><td><strong>CA-Signed Keys</strong></td></tr><tr><td>Compliance requirements</td><td><strong>CA-Signed Keys</strong></td></tr></tbody></table><h3 id=self-signed-vs-ca-signed>Self-Signed vs. CA-Signed<a href=#self-signed-vs-ca-signed class=anchor aria-hidden=true>#</a></h3><p><strong>Self-Signed Keys:</strong></p><ul><li>Simple to create (no external CA required)</li><li>Full control over key lifecycle</li><li>Trust based on explicit key distribution</li><li>Public key must be manually distributed to verifiers</li></ul><p><strong>CA-Signed Certificates:</strong></p><ul><li>Requires Certificate Authority (CA)</li><li>Certificate chain validates against trusted root CAs</li><li>Trust leverages existing PKI</li><li>Automatic trust propagation via certificate validation</li></ul><h2 id=key-pair-generation>Key Pair Generation<a href=#key-pair-generation class=anchor aria-hidden=true>#</a></h2><p>OCM supports <strong>RSA</strong> signatures with two algorithms:</p><ul><li><strong>RSASSA-PSS</strong> - Default and recommended</li><li><strong>RSASSA-PKCS1v15</strong> - Legacy support</li></ul><h3 id=directory-structure-setup>Directory Structure Setup<a href=#directory-structure-setup class=anchor aria-hidden=true>#</a></h3><p>First, create a consistent directory structure for your keys. This guide uses the following convention:</p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Create a directory for your OCM keys</span>
</span></span><span class=line><span class=cl>mkdir -p ~/.ocm/keys
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Recommended structure:</span>
</span></span><span class=line><span class=cl><span class=c1># ~/.ocm/keys/</span>
</span></span><span class=line><span class=cl><span class=c1>#   ├── dev/          # Development keys</span>
</span></span><span class=line><span class=cl><span class=c1>#   ├── staging/      # Staging keys</span>
</span></span><span class=line><span class=cl><span class=c1>#   └── prod/         # Production keys</span></span></span></code></pre></div></figure></div><p>Throughout this guide, we&rsquo;ll use this structure and reference files with their full paths.</p><h3 id=self-signed-keys-development>Self-Signed Keys (Development)<a href=#self-signed-keys-development class=anchor aria-hidden=true>#</a></h3><p>Self-signed keys are ideal for development, testing, and environments without PKI infrastructure.</p><h4 id=generate-development-keys>Generate Development Keys<a href=#generate-development-keys class=anchor aria-hidden=true>#</a></h4><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Create directory for development keys</span>
</span></span><span class=line><span class=cl>mkdir -p ~/.ocm/keys/dev
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Generate private key (4096 bits recommended)</span>
</span></span><span class=line><span class=cl>openssl genrsa -out ~/.ocm/keys/dev/private.pem <span class=m>4096</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Extract public key</span>
</span></span><span class=line><span class=cl>openssl rsa -in ~/.ocm/keys/dev/private.pem -pubout -out ~/.ocm/keys/dev/public.pem
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Set secure permissions</span>
</span></span><span class=line><span class=cl>chmod <span class=m>600</span> ~/.ocm/keys/dev/private.pem
</span></span><span class=line><span class=cl>chmod <span class=m>644</span> ~/.ocm/keys/dev/public.pem</span></span></code></pre></div></figure></div><p><strong>Files created:</strong></p><ul><li><code>~/.ocm/keys/dev/private.pem</code> - Private key (4096 bits)</li><li><code>~/.ocm/keys/dev/public.pem</code> - Public key</li></ul><h3 id=ca-signed-keys-production>CA-Signed Keys (Production)<a href=#ca-signed-keys-production class=anchor aria-hidden=true>#</a></h3><p>CA-signed certificates provide a trust chain that can be validated against a certificate authority.
They are recommended for production environments, enterprise deployments,
and scenarios requiring PKI integration or compliance.</p><h4 id=generate-production-keys-with-csr>Generate Production Keys with CSR<a href=#generate-production-keys-with-csr class=anchor aria-hidden=true>#</a></h4><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Create directory for production keys</span>
</span></span><span class=line><span class=cl>mkdir -p ~/.ocm/keys/prod
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Generate private key</span>
</span></span><span class=line><span class=cl>openssl genrsa -out ~/.ocm/keys/prod/private.pem <span class=m>4096</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create certificate signing request (CSR)</span>
</span></span><span class=line><span class=cl>openssl req -new -key ~/.ocm/keys/prod/private.pem <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -out ~/.ocm/keys/prod/request.csr <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -subj <span class=s2>&#34;/C=US/O=MyOrg/OU=Engineering/CN=OCM Production Signer&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Set secure permissions</span>
</span></span><span class=line><span class=cl>chmod <span class=m>600</span> ~/.ocm/keys/prod/private.pem
</span></span><span class=line><span class=cl>chmod <span class=m>644</span> ~/.ocm/keys/prod/request.csr
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Send request.csr to your CA and save the response</span>
</span></span><span class=line><span class=cl><span class=c1># After receiving from CA, save as:</span>
</span></span><span class=line><span class=cl><span class=c1>#   ~/.ocm/keys/prod/certificate.pem</span>
</span></span><span class=line><span class=cl><span class=c1>#   ~/.ocm/keys/prod/ca-chain.pem (if provided)</span></span></span></code></pre></div></figure></div><p><strong>Files created:</strong></p><ul><li><code>~/.ocm/keys/prod/private.pem</code> - Private key (4096 bits)</li><li><code>~/.ocm/keys/prod/request.csr</code> - Certificate signing request (send to CA)</li></ul><p><strong>Files received from CA:</strong></p><ul><li><code>~/.ocm/keys/prod/certificate.pem</code> - Signed certificate</li><li><code>~/.ocm/keys/prod/ca-chain.pem</code> - CA certificate chain (optional but recommended)</li></ul><h4 id=create-certificate-with-chain>Create Certificate with Chain<a href=#create-certificate-with-chain class=anchor aria-hidden=true>#</a></h4><p>If you receive individual certificates, combine them into a chain:</p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Combine leaf certificate with intermediate and root CA certificates</span>
</span></span><span class=line><span class=cl>cat ~/.ocm/keys/prod/certificate.pem <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    ~/.ocm/keys/prod/intermediate-ca.pem <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    ~/.ocm/keys/prod/root-ca.pem <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    &gt; ~/.ocm/keys/prod/cert-chain.pem
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>chmod <span class=m>644</span> ~/.ocm/keys/prod/cert-chain.pem</span></span></code></pre></div></figure></div><h2 id=configuring-keys-in-an-ocmconfig-file>Configuring Keys in an .ocmconfig File<a href=#configuring-keys-in-an-ocmconfig-file class=anchor aria-hidden=true>#</a></h2><p>OCM uses its credential system to resolve signing and verification keys.
The keys are configured as credentials for a special consumer type: <code>RSA/v1alpha1</code>.</p><blockquote><p><strong>Using your own keys?</strong> Simply reference your existing key file paths in the configuration examples below instead of the <code>~/.ocm/keys/</code> paths shown here.</p></blockquote><p>All examples below use the <strong>exact file paths</strong> from the key generation section above.</p><blockquote><p><strong>Tip:</strong> Add the entries below to your <code>.ocmconfig</code>. If the file is present in your home directory (<code>~/.ocmconfig</code>), the OCM CLI will use it automatically. Only provide <code>--config &lt;path></code> when you want to reference a different configuration file.</p></blockquote><h3 id=basic-signing-configuration-development>Basic Signing Configuration (Development)<a href=#basic-signing-configuration-development class=anchor aria-hidden=true>#</a></h3><p>Using the development keys we created earlier:</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>generic.config.ocm.software/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>configurations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>credentials.config.ocm.software</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>consumers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>identity</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>RSA/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>algorithm</span><span class=p>:</span><span class=w> </span><span class=l>RSASSA-PSS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>signature</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>credentials</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>Credentials/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>private_key_pem_file</span><span class=p>:</span><span class=w> </span><span class=l>~/.ocm/keys/dev/private.pem</span></span></span></code></pre></div></figure></div><p><strong>Note:</strong> This references <code>~/.ocm/keys/dev/private.pem</code> which we created with the OpenSSL command in the previous section.</p><blockquote><p><strong>Alternative:</strong> Keys can also be embedded inline using <code>private_key_pem</code> property.
The inline format uses a multi-line YAML string with the PEM block.</p></blockquote><h3 id=basic-verification-configuration-development>Basic Verification Configuration (Development)<a href=#basic-verification-configuration-development class=anchor aria-hidden=true>#</a></h3><p>Using the public key we generated earlier:</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>generic.config.ocm.software/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>configurations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>credentials.config.ocm.software</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>consumers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>identity</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>RSA/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>algorithm</span><span class=p>:</span><span class=w> </span><span class=l>RSASSA-PSS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>signature</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>credentials</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>Credentials/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>public_key_pem_file</span><span class=p>:</span><span class=w> </span><span class=l>~/.ocm/keys/dev/public.pem</span></span></span></code></pre></div></figure></div><p><strong>Note:</strong> This configuration references <code>~/.ocm/keys/dev/public.pem</code> which was extracted from the private key using OpenSSL.</p><h3 id=identity-attributes-explained>Identity Attributes Explained<a href=#identity-attributes-explained class=anchor aria-hidden=true>#</a></h3><p>The consumer identity for RSA signing/verification supports these attributes:</p><table><thead><tr><th>Attribute</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>type</code></td><td>Yes</td><td>Must be <code>RSA/v1alpha1</code></td></tr><tr><td><code>algorithm</code></td><td>No</td><td><code>RSASSA-PSS</code> (default) or <code>RSASSA-PKCS1V15</code> (legacy)</td></tr><tr><td><code>signature</code></td><td>No</td><td>Name/label for this signature configuration (default: <code>default</code>)</td></tr></tbody></table><p>The <code>signature</code> attribute is particularly useful for multi-environment setups.</p><h2 id=multi-environment-configuration>Multi-Environment Configuration<a href=#multi-environment-configuration class=anchor aria-hidden=true>#</a></h2><blockquote><p><strong>Optional (advanced):</strong> Skip this section if you operate a single environment. You can continue with
<a href=#signer-specifications>Signer Specifications</a> without missing any required setup.</p></blockquote><p>In many organizations, you&rsquo;ll want different signing keys for different environments or purposes.</p><p>For multiple environments, generate separate keys using the same process:</p><ul><li><strong>Development:</strong> Self-signed keys (see
<a href=#self-signed-keys-development>Self-Signed Keys</a> section)</li><li><strong>Staging:</strong> Self-signed keys in <code>~/.ocm/keys/staging/</code> (same process)</li><li><strong>Production:</strong> CA-signed keys (see
<a href=#ca-signed-keys-production>CA-Signed Keys</a> section)</li></ul><h3 id=combined-configuration-example>Combined Configuration Example<a href=#combined-configuration-example class=anchor aria-hidden=true>#</a></h3><p>This example shows a complete <code>.ocmconfig</code> with signing and verification keys for all environments:</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>generic.config.ocm.software/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>configurations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>credentials.config.ocm.software</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>consumers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># Development environment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>identity</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>RSA/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>algorithm</span><span class=p>:</span><span class=w> </span><span class=l>RSASSA-PSS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>signature</span><span class=p>:</span><span class=w> </span><span class=l>dev</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>credentials</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>Credentials/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>private_key_pem_file</span><span class=p>:</span><span class=w> </span><span class=l>~/.ocm/keys/dev/private.pem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>public_key_pem_file</span><span class=p>:</span><span class=w> </span><span class=l>~/.ocm/keys/dev/public.pem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># Staging environment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>identity</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>RSA/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>algorithm</span><span class=p>:</span><span class=w> </span><span class=l>RSASSA-PSS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>signature</span><span class=p>:</span><span class=w> </span><span class=l>staging</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>credentials</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>Credentials/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>private_key_pem_file</span><span class=p>:</span><span class=w> </span><span class=l>~/.ocm/keys/staging/private.pem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>public_key_pem_file</span><span class=p>:</span><span class=w> </span><span class=l>~/.ocm/keys/staging/public.pem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># Production environment (CA-signed with certificate chain)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>identity</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>RSA/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>algorithm</span><span class=p>:</span><span class=w> </span><span class=l>RSASSA-PSS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>signature</span><span class=p>:</span><span class=w> </span><span class=l>prod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>credentials</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>Credentials/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>private_key_pem_file</span><span class=p>:</span><span class=w> </span><span class=l>~/.ocm/keys/prod/private.pem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>public_key_pem_file</span><span class=p>:</span><span class=w> </span><span class=l>~/.ocm/keys/prod/cert-chain.pem</span></span></span></code></pre></div></figure></div><p><strong>Notes:</strong></p><ul><li>Each environment has both private and public keys</li><li>Production uses the certificate chain for verification</li><li>The same configuration works for both signing and verification</li></ul><h3 id=usage-examples>Usage Examples<a href=#usage-examples class=anchor aria-hidden=true>#</a></h3><p><strong>Signing:</strong></p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Sign with development key</span>
</span></span><span class=line><span class=cl>ocm sign cv --signature dev ghcr.io/myorg/component:1.0.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sign with staging key</span>
</span></span><span class=line><span class=cl>ocm sign cv --signature staging ghcr.io/myorg/component:1.0.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sign with production key</span>
</span></span><span class=line><span class=cl>ocm sign cv --signature prod ghcr.io/myorg/component:1.0.0</span></span></code></pre></div></figure></div><p><strong>Verification:</strong></p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Verify with development key</span>
</span></span><span class=line><span class=cl>ocm verify cv --signature dev ghcr.io/myorg/component:1.0.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Verify with staging key</span>
</span></span><span class=line><span class=cl>ocm verify cv --signature staging ghcr.io/myorg/component:1.0.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Verify with production key</span>
</span></span><span class=line><span class=cl>ocm verify cv --signature prod ghcr.io/myorg/component:1.0.0</span></span></code></pre></div></figure></div><h3 id=verification-only-configuration>Verification-Only Configuration<a href=#verification-only-configuration class=anchor aria-hidden=true>#</a></h3><p>If you only need to verify signatures (e.g., on CI/CD runners or deployment systems), you can omit the private keys:</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>generic.config.ocm.software/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>configurations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>credentials.config.ocm.software</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>consumers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>identity</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>RSA/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>signature</span><span class=p>:</span><span class=w> </span><span class=l>prod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>credentials</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>Credentials/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=c># Only public key needed for verification</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>public_key_pem_file</span><span class=p>:</span><span class=w> </span><span class=l>~/.ocm/keys/prod/cert-chain.pem</span></span></span></code></pre></div></figure></div><p><strong>Note:</strong> This configuration contains only the public key. Verification works, but signing operations will fail (as intended for read-only environments).</p><h2 id=signer-specifications>Signer Specifications<a href=#signer-specifications class=anchor aria-hidden=true>#</a></h2><blockquote><p><strong>Optional (advanced):</strong> If you do not need per-command overrides or CI-friendly specs, skip ahead to
<a href=#signature-encoding-policies>Signature Encoding Policies</a>. Core functionality continues there.</p></blockquote><p>The <code>--signer-spec</code> flag provides fine-grained control over the signing process via a YAML configuration file.</p><h3 id=when-to-use-signer-specs>When to Use Signer Specs<a href=#when-to-use-signer-specs class=anchor aria-hidden=true>#</a></h3><p>Use signer specifications when you need:</p><ul><li>✅ Command-specific signing config</li><li>✅ CI/CD pipeline integration</li><li>✅ Explicit control over signing parameters</li><li>✅ Different encoding policies</li><li>✅ Temporary or one-off signing operations</li></ul><p><strong>Signer specs vs. .ocmconfig:</strong></p><table><thead><tr><th>Aspect</th><th>Signer Spec File</th><th>.ocmconfig</th></tr></thead><tbody><tr><td>Scope</td><td>Command-specific</td><td>Global configuration</td></tr><tr><td>Portability</td><td>Easy to version control</td><td>User/machine-specific</td></tr><tr><td>Use case</td><td>CI/CD, explicit control</td><td>Local development</td></tr><tr><td>Key distribution</td><td>Embedded or referenced</td><td>Centralized config</td></tr></tbody></table><h3 id=signer-spec-file-format>Signer Spec File Format<a href=#signer-spec-file-format class=anchor aria-hidden=true>#</a></h3><p>A signer specification file contains only signing configuration, <strong>not</strong> the signature name (which is provided via <code>--signature</code> flag).</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>RSA/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>signatureAlgorithm</span><span class=p>:</span><span class=w> </span><span class=l>RSASSA-PSS </span><span class=w> </span><span class=c># or RSASSA-PKCS1V15</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>signatureEncodingPolicy</span><span class=p>:</span><span class=w> </span><span class=l>Plain </span><span class=w> </span><span class=c># or PEM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Option 1: Reference external file (preferred)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>privateKeyPEMFile</span><span class=p>:</span><span class=w> </span><span class=l>~/.ocm/keys/dev/private.pem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Option 2: Inline private key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># privateKeyPEM: |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#   -----BEGIN PRIVATE KEY-----</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#   ...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#   -----END PRIVATE KEY-----</span></span></span></code></pre></div></figure></div><p><strong>Note:</strong> The <strong>signature name</strong> is specified via the <code>--signature</code> flag when running the command, not in this file.</p><h3 id=default-signer-spec-behavior>Default Signer Spec Behavior<a href=#default-signer-spec-behavior class=anchor aria-hidden=true>#</a></h3><p>If <code>--signer-spec</code> is <strong>not</strong> provided, OCM uses defaults:</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>RSA/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>signatureAlgorithm</span><span class=p>:</span><span class=w> </span><span class=l>RSASSA-PSS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>signatureEncodingPolicy</span><span class=p>:</span><span class=w> </span><span class=l>Plain</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Private key resolved from .ocmconfig</span></span></span></code></pre></div></figure></div><p>This means:</p><ul><li>Algorithm: RSASSA-PSS</li><li>Encoding: Plain (raw signature bytes)</li><li>Key: Retrieved from <code>.ocmconfig</code> config file</li></ul><h3 id=example-using-signer-spec-in-cicd>Example: Using Signer Spec in CI/CD<a href=#example-using-signer-spec-in-cicd class=anchor aria-hidden=true>#</a></h3><p><strong>signer-config.yaml:</strong></p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>RSA/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>signatureAlgorithm</span><span class=p>:</span><span class=w> </span><span class=l>RSASSA-PSS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>signatureEncodingPolicy</span><span class=p>:</span><span class=w> </span><span class=l>Plain</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>privateKeyPEMFile</span><span class=p>:</span><span class=w> </span><span class=l>/secrets/signing-key.pem</span></span></span></code></pre></div></figure></div><p><strong>CI/CD pipeline:</strong></p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Inject private key into CI/CD secrets</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$SIGNING_PRIVATE_KEY</span><span class=s2>&#34;</span> &gt; /secrets/signing-key.pem
</span></span><span class=line><span class=cl>chmod <span class=m>600</span> /secrets/signing-key.pem
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sign component version</span>
</span></span><span class=line><span class=cl>ocm sign cv <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --signer-spec ./signer-config.yaml <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --signature release <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  ghcr.io/myorg/component:<span class=si>${</span><span class=nv>VERSION</span><span class=si>}</span></span></span></code></pre></div></figure></div><h2 id=signature-encoding-policies>Signature Encoding Policies<a href=#signature-encoding-policies class=anchor aria-hidden=true>#</a></h2><blockquote><p><strong>Optional (advanced):</strong> Readers who only work with the default signing setup can skip directly to
<a href=#signing-component-versions>Signing Component Versions</a>. The sections below cover advanced storage and trust scenarios.</p></blockquote><p>OCM supports two encoding policies that affect how signatures are stored and verified.</p><h3 id=plain-encoding-default>Plain Encoding (Default)<a href=#plain-encoding-default class=anchor aria-hidden=true>#</a></h3><p>Stores only the raw signature bytes. Compact but requires the public key to be provided separately (via <code>.ocmconfig</code> or <code>--public-key</code> flag).</p><p><strong>Configuration:</strong></p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>RSA/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>signatureEncodingPolicy</span><span class=p>:</span><span class=w> </span><span class=l>Plain</span></span></span></code></pre></div></figure></div><p>Suitable for self-signed keys and scenarios where public keys are distributed through <code>.ocmconfig</code>.</p><h3 id=pem-encoding>PEM Encoding<a href=#pem-encoding class=anchor aria-hidden=true>#</a></h3><p>Embeds the certificate chain directly in the signature, enabling verification against the system trust store without requiring public keys in <code>.ocmconfig</code>.</p><p><strong>Configuration:</strong></p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>RSA/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>signatureEncodingPolicy</span><span class=p>:</span><span class=w> </span><span class=l>PEM</span></span></span></code></pre></div></figure></div><p><strong>How it works:</strong></p><ol><li>Creates a PEM block containing the signature</li><li>Appends the signer&rsquo;s certificate chain</li><li>During verification, validates the chain against the system trust store</li><li>Extracts the public key from the validated certificate</li></ol><p><strong>Requirements:</strong></p><ul><li>Signature name must match the config</li><li>Certificate chain must be included in the signature</li><li>System trust store must contain the root CA, or root CA must be provided in <code>.ocmconfig</code></li></ul><p>Suitable for enterprise PKI integration and scenarios requiring automated trust validation.</p><h2 id=signing-component-versions>Signing Component Versions<a href=#signing-component-versions class=anchor aria-hidden=true>#</a></h2><h3 id=basic-signing>Basic Signing<a href=#basic-signing class=anchor aria-hidden=true>#</a></h3><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># Sign with default signature name and configuration</span>
</span></span><span class=line><span class=cl>ocm sign cv ghcr.io/myorg/component:1.0.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sign with custom signature name</span>
</span></span><span class=line><span class=cl>ocm sign cv --signature release ghcr.io/myorg/component:1.0.0</span></span></code></pre></div></figure></div><h3 id=advanced-signing-options>Advanced Signing Options<a href=#advanced-signing-options class=anchor aria-hidden=true>#</a></h3><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># Use specific signer specification</span>
</span></span><span class=line><span class=cl>ocm sign cv <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --signer-spec ./config/prod-signer.yaml <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --signature prod-release <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  ghcr.io/myorg/component:1.0.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Dry run (compute signature without storing)</span>
</span></span><span class=line><span class=cl>ocm sign cv <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --signature <span class=nb>test</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --dry-run <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  ghcr.io/myorg/component:1.0.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Force overwrite existing signature</span>
</span></span><span class=line><span class=cl>ocm sign cv <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --signature release <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --force <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  ghcr.io/myorg/component:1.0.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Custom normalization and hash algorithms</span>
</span></span><span class=line><span class=cl>ocm sign cv <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --normalisation jsonNormalisation/v4alpha1 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --hash SHA512 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --signature release <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  ghcr.io/myorg/component:1.0.0</span></span></code></pre></div></figure></div><h3 id=common-signing-flags>Common Signing Flags<a href=#common-signing-flags class=anchor aria-hidden=true>#</a></h3><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>--signature</code></td><td>Name of the signature</td><td><code>default</code></td></tr><tr><td><code>--signer-spec</code></td><td>Path to signer specification file</td><td>(uses config)</td></tr><tr><td><code>--force</code></td><td>Overwrite existing signature</td><td><code>false</code></td></tr><tr><td><code>--dry-run</code></td><td>Compute signature without storing</td><td><code>false</code></td></tr></tbody></table><p>For complete flag reference, see <code>ocm sign cv --help</code>.</p><h2 id=verifying-component-versions>Verifying Component Versions<a href=#verifying-component-versions class=anchor aria-hidden=true>#</a></h2><h3 id=basic-verification>Basic Verification<a href=#basic-verification class=anchor aria-hidden=true>#</a></h3><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># Verify default signature</span>
</span></span><span class=line><span class=cl>ocm verify cv ghcr.io/myorg/component:1.0.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Verify specific signature</span>
</span></span><span class=line><span class=cl>ocm verify cv --signature release ghcr.io/myorg/component:1.0.0</span></span></code></pre></div></figure></div><h3 id=verification-with-external-public-key>Verification with External Public Key<a href=#verification-with-external-public-key class=anchor aria-hidden=true>#</a></h3><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># Provide public key via command line</span>
</span></span><span class=line><span class=cl>ocm verify cv <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --public-key ./keys/public.pem <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --signature release <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  ghcr.io/myorg/component:1.0.0</span></span></code></pre></div></figure></div><h3 id=verification-process>Verification Process<a href=#verification-process class=anchor aria-hidden=true>#</a></h3><ol><li><strong>Fetch component version</strong> from repository</li><li><strong>Locate signature</strong> by name in component descriptor</li><li><strong>Resolve public key</strong> from:<ul><li><code>.ocmconfig</code> credential system, OR</li><li><code>--public-key</code> flag, OR</li><li>Certificate chain in signature (PEM encoding only)</li></ul></li><li><strong>Normalize component descriptor</strong> using specified algorithm</li><li><strong>Hash normalized descriptor</strong></li><li><strong>Verify signature</strong> using public key</li><li><strong>Validate certificate chain</strong> (PEM encoding only)</li></ol><h3 id=verification-success-criteria>Verification Success Criteria<a href=#verification-success-criteria class=anchor aria-hidden=true>#</a></h3><p>For verification to succeed:</p><ul><li>✅ Signature exists with specified name</li><li>✅ Public key can be resolved</li><li>✅ Signature cryptographically valid</li><li>✅ Component descriptor unchanged since signing</li><li>✅ Certificate chain valid (PEM encoding only)</li><li>✅ Certificate DN matches signature name (PEM encoding only)</li></ul><h2 id=trust-models>Trust Models<a href=#trust-models class=anchor aria-hidden=true>#</a></h2><p>OCM supports multiple trust models depending on your security requirements.</p><h3 id=1-key-pinning-self-signed>1. Key Pinning (Self-Signed)<a href=#1-key-pinning-self-signed class=anchor aria-hidden=true>#</a></h3><p>Specific public keys configured in <code>.ocmconfig</code>. Trust is based on exact key match without certificate validation.</p><p><strong>Trust chain:</strong></p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><pre tabindex=0><code class=language-code data-lang=code>Component Signature → Public Key in .ocmconfig → Trust</code></pre></figure></div><p>Simple setup with full control, suitable for small teams and development environments.</p><h3 id=2-system-trust-store-ca-signed-pem-encoding>2. System Trust Store (CA-Signed, PEM Encoding)<a href=#2-system-trust-store-ca-signed-pem-encoding class=anchor aria-hidden=true>#</a></h3><p>Certificate chain embedded in signature and validated against system trust store or distributed root CA. No manual public key distribution needed.</p><p><strong>Trust chain:</strong></p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><pre tabindex=0><code class=language-code data-lang=code>Component Signature → Embedded Cert Chain → System Trust Store → Root CA → Trust</code></pre></figure></div><p>Suitable for automatic trust propagation in enterprise PKI infrastructure.</p><h2 id=complete-configuration-examples>Complete Configuration Examples<a href=#complete-configuration-examples class=anchor aria-hidden=true>#</a></h2><h3 id=example-1-development-setup-self-signed>Example 1: Development Setup (Self-Signed)<a href=#example-1-development-setup-self-signed class=anchor aria-hidden=true>#</a></h3><p><strong>Prerequisites:</strong> Generate self-signed keys (see &ldquo;Self-Signed Keys&rdquo; section):</p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mkdir -p ~/.ocm/keys/dev
</span></span><span class=line><span class=cl>openssl genrsa -out ~/.ocm/keys/dev/private.pem <span class=m>4096</span>
</span></span><span class=line><span class=cl>openssl rsa -in ~/.ocm/keys/dev/private.pem -pubout -out ~/.ocm/keys/dev/public.pem
</span></span><span class=line><span class=cl>chmod <span class=m>600</span> ~/.ocm/keys/dev/private.pem
</span></span><span class=line><span class=cl>chmod <span class=m>644</span> ~/.ocm/keys/dev/public.pem</span></span></code></pre></div></figure></div><p><strong>.ocmconfig:</strong></p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>generic.config.ocm.software/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>configurations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>credentials.config.ocm.software</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>consumers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>identity</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>RSA/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>signature</span><span class=p>:</span><span class=w> </span><span class=l>dev</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>credentials</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>Credentials/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>private_key_pem_file</span><span class=p>:</span><span class=w> </span><span class=l>~/.ocm/keys/dev/private.pem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>public_key_pem_file</span><span class=p>:</span><span class=w> </span><span class=l>~/.ocm/keys/dev/public.pem</span></span></span></code></pre></div></figure></div><p><strong>Usage:</strong></p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Sign</span>
</span></span><span class=line><span class=cl>ocm sign cv --signature dev ghcr.io/myorg/component:1.0.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Verify</span>
</span></span><span class=line><span class=cl>ocm verify cv --signature dev ghcr.io/myorg/component:1.0.0</span></span></code></pre></div></figure></div><h3 id=example-2-enterprise-production-setup-ca-signed-pem-encoding>Example 2: Enterprise Production Setup (CA-Signed, PEM Encoding)<a href=#example-2-enterprise-production-setup-ca-signed-pem-encoding class=anchor aria-hidden=true>#</a></h3><p><strong>Prerequisites:</strong> Use CA-signed production keys (see &ldquo;CA-Signed Keys&rdquo; section).</p><p><strong>Key differences from Development:</strong></p><ul><li>Uses <code>signatureEncodingPolicy: PEM</code></li><li>Certificate chain embedded in signature</li><li>Validates against system trust store</li><li>Minimal <code>.ocmconfig</code> needed for verification</li></ul><p><strong>Signer specification (~/prod-signer.yaml):</strong></p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>RSA/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>signatureAlgorithm</span><span class=p>:</span><span class=w> </span><span class=l>RSASSA-PSS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>signatureEncodingPolicy</span><span class=p>:</span><span class=w> </span><span class=l>PEM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>privateKeyPEMFile</span><span class=p>:</span><span class=w> </span><span class=l>~/.ocm/keys/prod/private.pem</span></span></span></code></pre></div></figure></div><p><strong>Sign:</strong></p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ocm sign cv --signer-spec ~/prod-signer.yaml --signature prod ghcr.io/myorg/component:1.0.0</span></span></code></pre></div></figure></div><p><strong>Verify:</strong></p><div class=expressive-code><figure class="frame is-terminal not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Certificate chain validated automatically from signature</span>
</span></span><span class=line><span class=cl>ocm verify cv --signature prod ghcr.io/myorg/component:1.0.0</span></span></code></pre></div></figure></div><h2 id=troubleshooting>Troubleshooting<a href=#troubleshooting class=anchor aria-hidden=true>#</a></h2><h3 id=signature-verification-fails>Signature Verification Fails<a href=#signature-verification-fails class=anchor aria-hidden=true>#</a></h3><p><strong>Error:</strong> &ldquo;signature verification failed&rdquo;</p><p><strong>Common causes:</strong></p><ol><li>Wrong public key configured</li><li>Component version modified after signing</li><li>Signature name mismatch</li><li>Certificate chain invalid (PEM encoding)</li></ol><p><strong>Solutions:</strong></p><ul><li>Verify public key matches private key: <code>openssl rsa -in private.pem -pubout</code></li><li>Check signature name: <code>ocm get cv -o yaml ghcr.io/myorg/component:1.0.0</code></li><li>Verify certificate chain: <code>openssl verify -CAfile ca-chain.pem certificate.pem</code></li></ul><h3 id=private-key-not-found>Private Key Not Found<a href=#private-key-not-found class=anchor aria-hidden=true>#</a></h3><p><strong>Error:</strong> &ldquo;could not resolve credentials for identity&rdquo;</p><p><strong>Solutions:</strong></p><ul><li>Check <code>.ocmconfig</code> path and syntax</li><li>Verify file paths in <code>private_key_pem_file</code></li><li>Ensure <code>signature</code> attribute matches between config and command</li></ul><h3 id=certificate-chain-validation-fails-pem>Certificate Chain Validation Fails (PEM)<a href=#certificate-chain-validation-fails-pem class=anchor aria-hidden=true>#</a></h3><p><strong>Error:</strong> &ldquo;certificate validation failed&rdquo;</p><p><strong>Solutions:</strong></p><ul><li>Ensure system trust store includes required root CAs</li><li>Provide root CA in <code>.ocmconfig</code>: <code>public_key_pem_file: ./ca-root.pem</code></li><li>Verify certificate DN matches signature name</li><li>Check certificate expiry: <code>openssl x509 -in cert.pem -noout -dates</code></li></ul><h3 id=signature-already-exists>Signature Already Exists<a href=#signature-already-exists class=anchor aria-hidden=true>#</a></h3><p><strong>Error:</strong> &ldquo;signature &rsquo;name&rsquo; already exists&rdquo;</p><p><strong>Solutions:</strong></p><ul><li>Use <code>--force</code> to overwrite: <code>ocm sign cv ... --force</code></li><li>Use a different signature name: <code>--signature name-v2</code></li><li>Remove old signature first (manual descriptor editing)</li></ul><h2 id=summary>Summary<a href=#summary class=anchor aria-hidden=true>#</a></h2><p>OCM&rsquo;s signing and verification system provides:</p><ul><li>✅ <strong>Flexible trust models</strong> - From simple key pinning to enterprise PKI</li><li>✅ <strong>Multiple algorithms</strong> - RSASSA-PSS (recommended) and PKCS1v15</li><li>✅ <strong>Encoding options</strong> - Plain (compact) and PEM (with cert chains)</li><li>✅ <strong>Multi-environment support</strong> - Separate keys for dev, staging, prod</li><li>✅ <strong>Signer specifications</strong> - Fine-grained control over signing process</li><li>✅ <strong>Credential integration</strong> - Unified with OCM credential system</li></ul><p><strong>Choosing the right approach:</strong></p><table><thead><tr><th>Scenario</th><th>Recommended Approach</th></tr></thead><tbody><tr><td>Local development</td><td>Self-signed, Plain encoding</td></tr><tr><td>Small team</td><td>Self-signed, key pinning</td></tr><tr><td>Medium organization</td><td>CA-signed, Plain, certificate pinning</td></tr><tr><td>Enterprise</td><td>CA-signed, PEM, system trust store</td></tr><tr><td>Compliance-driven</td><td>CA-signed, PEM, HSM integration</td></tr></tbody></table><h2 id=related-documentation>Related Documentation<a href=#related-documentation class=anchor aria-hidden=true>#</a></h2><ul><li><a href=/dev/docs/tutorials/creds-in-ocmconfig/>Credentials in .ocmconfig File</a> - Practical credential configuration examples</li><li><a href=/dev/docs/reference/ocm-cli/>OCM CLI Reference</a> - Complete command-line options</li></ul><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"></div><div class="page-nav d-flex flex-column flex-sm-row"><div class="card w-100"><div class="card-body d-flex"><div class="d-flex flex-column justify-content-center"><svg class="icon icon-tabler icon-tabler-arrow-left" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12h14"/><path d="M5 12l6 6"/><path d="M5 12l6-6"/></svg></div><div class="d-flex flex-column"><div class=text-body-secondary>Prev</div><a href=/dev/docs/tutorials/creds-in-ocmconfig/ class="stretched-link text-reset text-decoration-none">Credentials in an .ocmconfig File</a></div></div></div><div class=m-2></div><div class="card text-end w-100"><div class="card-body d-flex justify-content-end"><div class="d-flex flex-column"><div class=text-body-secondary>Next</div><a href=/dev/docs/tutorials/deploy-a-helm-chart-with-bootstrap/ class="stretched-link text-reset text-decoration-none">Deploy a Helm Chart (with Bootstrap)</a></div><div class="d-flex flex-column justify-content-center"><svg class="icon icon-tabler icon-tabler-arrow-right" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12h14"/><path d="M13 18l6-6"/><path d="M13 6l6 6"/></svg></div></div></div></div></main></div></div></div></div><script async src=/dev/js/app.15fe04cca8284b7e1c491b81ad26584edd72ed5a9943446725d22a82cb16bfa5.js integrity="sha256-Ff4EzKgoS34cSRuBrSZYTt1y7VqZQ0RnJdIqgssWv6U="></script><script async src=/dev/js/flexsearch.5dd6433c29c3e043627f046054aed58ff3790f58fdb8423f45125bbafdcad335.js integrity="sha256-XdZDPCnD4ENifwRgVK7Vj/N5D1j9uEI/RRJbuv3K0zU="></script><script async src=/dev/js/search-modal.96e662d8f691fe25c859a3437074b485f2d7bed0bca612725028c6cf4322e2f2.js integrity="sha256-luZi2PaR/iXIWaNDcHS0hfLXvtC8phJyUCjGz0Mi4vI="></script></body></html>